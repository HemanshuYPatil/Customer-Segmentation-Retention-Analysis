(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665,293],{81428:function(e,t,r){Promise.resolve().then(r.bind(r,71734))},71734:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(57437),s=r(2265),a=r(27648),c=r(36498),o=r(43301),i=r(17293),l=r(62869),u=r(95186),d=r(66070),f=r(89534),m=r(99376),x=r(46413);function p(){let e=(0,s.useRef)(null),[t,r]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[b,g]=(0,s.useState)(!1),{push:v}=(0,f.p)(),j=(0,m.useRouter)(),{user:y}=(0,x.a)();(0,s.useEffect)(()=>{y&&j.replace("/")},[y,j]),(0,s.useEffect)(()=>{e.current&&c.p8.fromTo(e.current,{opacity:0,y:18},{opacity:1,y:0,duration:.6,ease:"power2.out"})},[]);let N=async e=>{e.preventDefault(),g(!0);try{await (0,o.e5)(i.auth,t,p),v({title:"Welcome back.",tone:"success"}),j.replace("/")}catch(e){v({title:"Login failed. Check credentials.",tone:"error"})}finally{g(!1)}};return(0,n.jsxs)("div",{ref:e,className:"grid w-full grid-cols-1 gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("p",{className:"text-xs uppercase text-muted",children:"Enterprise Access"}),(0,n.jsx)("h1",{className:"text-3xl font-semibold",children:"Welcome back to Retention Intelligence."}),(0,n.jsx)("p",{className:"text-sm text-muted",children:"Securely access your workspace to train, monitor, and deploy customer segmentation models."}),(0,n.jsxs)("div",{className:"rounded-2xl border border-panelBorder bg-panel p-6",children:[(0,n.jsx)("p",{className:"text-xs text-muted",children:"Security note"}),(0,n.jsx)("p",{className:"mt-2 text-sm",children:"Your models, data, and predictions are isolated per tenant. Access is controlled via Firebase Auth."})]})]}),(0,n.jsxs)(d.Zb,{className:"w-full max-w-md",children:[(0,n.jsx)(d.ll,{children:"Sign in"}),(0,n.jsx)(d.SZ,{children:"Use your company email to continue."}),(0,n.jsxs)("form",{className:"mt-6 space-y-4",onSubmit:N,children:[(0,n.jsx)(u.I,{type:"email",placeholder:"name@company.com",value:t,onChange:e=>r(e.target.value),required:!0}),(0,n.jsx)(u.I,{type:"password",placeholder:"Password",value:p,onChange:e=>h(e.target.value),required:!0}),(0,n.jsx)(l.z,{type:"submit",className:"w-full",disabled:b,children:b?"Signing in...":"Sign in"})]}),(0,n.jsxs)("p",{className:"mt-4 text-xs text-muted",children:["New here?"," ",(0,n.jsx)(a.default,{href:"/register",className:"text-accent",children:"Create an account"})]})]})]})}},46413:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return l}});var n=r(57437),s=r(43301),a=r(2265),c=r(17293);let o=(0,a.createContext)({user:null,loading:!0});function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null),[l,u]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,s.Aj)(c.auth,e=>{i(e),u(!1)});return()=>e()},[]),(0,n.jsx)(o.Provider,{value:{user:r,loading:l},children:t})}function l(){return(0,a.useContext)(o)}},62869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(57437),s=r(2265),a=r(94508);let c=(0,s.forwardRef)((e,t)=>{let{className:r,variant:s="primary",loading:c=!1,disabled:o,children:i,...l}=e;return(0,n.jsxs)("button",{ref:t,className:(0,a.cn)("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-accent/60 disabled:opacity-50",{primary:"bg-accent text-white hover:opacity-90 shadow-glow",secondary:"bg-panel border border-panelBorder text-text hover:bg-accentSoft",ghost:"bg-transparent text-text hover:bg-panel",danger:"bg-danger text-white hover:opacity-90"}[s],r),disabled:o||c,"aria-busy":c||void 0,...l,children:[c&&(0,n.jsx)("span",{className:"mr-2 inline-flex h-4 w-4 animate-spin items-center justify-center rounded-full border-2 border-current border-t-transparent"}),i]})});c.displayName="Button"},66070:function(e,t,r){"use strict";r.d(t,{SZ:function(){return o},Zb:function(){return a},ll:function(){return c}});var n=r(57437),s=r(94508);function a(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,s.cn)("rounded-xl border border-panelBorder bg-panel p-4",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("h3",{className:(0,s.cn)("text-lg font-semibold",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("p",{className:(0,s.cn)("text-sm text-muted",t),...r})}},95186:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var n=r(57437),s=r(94508);function a(e){let{className:t,...r}=e;return(0,n.jsx)("input",{className:(0,s.cn)("h-10 w-full rounded-md border border-panelBorder bg-background px-3 text-sm text-text placeholder:text-muted focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent/40",t),...r})}},89534:function(e,t,r){"use strict";r.d(t,{ToastProvider:function(){return o},ToastViewport:function(){return l},p:function(){return i}});var n=r(57437),s=r(2265),a=r(94508);let c=(0,s.createContext)(null);function o(e){let{children:t}=e,[r,a]=(0,s.useState)([]),o=(0,s.useMemo)(()=>({toasts:r,push:e=>{let t=crypto.randomUUID();a(r=>[...r,{...e,id:t}]),setTimeout(()=>{a(e=>e.filter(e=>e.id!==t))},3200)},remove:e=>a(t=>t.filter(t=>t.id!==e))}),[r]);return(0,n.jsx)(c.Provider,{value:o,children:t})}function i(){let e=(0,s.useContext)(c);if(!e)throw Error("useToast must be used within ToastProvider");return e}function l(){let e=i();return(0,n.jsx)("div",{className:"fixed bottom-5 right-5 z-[200] flex max-w-[360px] flex-col gap-3",role:"status","aria-live":"polite",children:e.toasts.map(e=>(0,n.jsx)("div",{className:(0,a.cn)("rounded-xl border bg-panel px-4 py-3 text-sm text-text shadow-lg","success"===e.tone&&"border-success/50","error"===e.tone&&"border-danger/50","info"===e.tone&&"border-accent/50"),children:(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)("span",{className:(0,a.cn)("mt-1 inline-flex h-2.5 w-2.5 shrink-0 rounded-full","success"===e.tone&&"bg-success","error"===e.tone&&"bg-danger","info"===e.tone&&"bg-accent")}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-sm font-semibold",children:e.title}),e.description&&(0,n.jsx)("p",{className:"text-xs text-muted",children:e.description})]})]})},e.id))})}},17293:function(e,t,r){"use strict";r.d(t,{auth:function(){return c}});var n=r(738),s=r(43301);let a=(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)({apiKey:"AIzaSyDB__J1ECJXzPeF1DrLPa4Y5570JlnmQ_s",authDomain:"csr-a90c3.firebaseapp.com",projectId:"csr-a90c3",storageBucket:"csr-a90c3.firebasestorage.app",messagingSenderId:"998738090664",appId:"1:998738090664:web:e8d71b492d4175623d009d"}),c=(0,s.v0)(a)},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(61994),s=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[139,922,432,685,648,267,971,117,744],function(){return e(e.s=81428)}),_N_E=e.O()}]);