"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/driver.js";
exports.ids = ["vendor-chunks/driver.js"];
exports.modules = {

/***/ "(ssr)/./node_modules/driver.js/dist/driver.js.mjs":
/*!***************************************************!*\
  !*** ./node_modules/driver.js/dist/driver.js.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   driver: () => (/* binding */ Ae)\n/* harmony export */ });\nlet z = {}, J;\nfunction F(e = {}) {\n  z = {\n    animate: !0,\n    allowClose: !0,\n    overlayClickBehavior: \"close\",\n    overlayOpacity: 0.7,\n    smoothScroll: !1,\n    disableActiveInteraction: !1,\n    showProgress: !1,\n    stagePadding: 10,\n    stageRadius: 5,\n    popoverOffset: 10,\n    showButtons: [\"next\", \"previous\", \"close\"],\n    disableButtons: [],\n    overlayColor: \"#000\",\n    ...e\n  };\n}\nfunction s(e) {\n  return e ? z[e] : z;\n}\nfunction le(e) {\n  J = e;\n}\nfunction _() {\n  return J;\n}\nlet I = {};\nfunction N(e, o) {\n  I[e] = o;\n}\nfunction L(e) {\n  var o;\n  (o = I[e]) == null || o.call(I);\n}\nfunction de() {\n  I = {};\n}\nfunction O(e, o, t, i) {\n  return (e /= i / 2) < 1 ? t / 2 * e * e + o : -t / 2 * (--e * (e - 2) - 1) + o;\n}\nfunction U(e) {\n  const o = 'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])';\n  return e.flatMap((t) => {\n    const i = t.matches(o), d = Array.from(t.querySelectorAll(o));\n    return [...i ? [t] : [], ...d];\n  }).filter((t) => getComputedStyle(t).pointerEvents !== \"none\" && ve(t));\n}\nfunction ee(e) {\n  if (!e || ue(e))\n    return;\n  const o = s(\"smoothScroll\"), t = e.offsetHeight > window.innerHeight;\n  e.scrollIntoView({\n    // Removing the smooth scrolling for elements which exist inside the scrollable parent\n    // This was causing the highlight to not properly render\n    behavior: !o || pe(e) ? \"auto\" : \"smooth\",\n    inline: \"center\",\n    block: t ? \"start\" : \"center\"\n  });\n}\nfunction pe(e) {\n  if (!e || !e.parentElement)\n    return;\n  const o = e.parentElement;\n  return o.scrollHeight > o.clientHeight;\n}\nfunction ue(e) {\n  const o = e.getBoundingClientRect();\n  return o.top >= 0 && o.left >= 0 && o.bottom <= (window.innerHeight || document.documentElement.clientHeight) && o.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\nfunction ve(e) {\n  return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length);\n}\nlet D = {};\nfunction k(e, o) {\n  D[e] = o;\n}\nfunction l(e) {\n  return e ? D[e] : D;\n}\nfunction X() {\n  D = {};\n}\nfunction fe(e, o, t, i) {\n  let d = l(\"__activeStagePosition\");\n  const n = d || t.getBoundingClientRect(), f = i.getBoundingClientRect(), w = O(e, n.x, f.x - n.x, o), r = O(e, n.y, f.y - n.y, o), v = O(e, n.width, f.width - n.width, o), g = O(e, n.height, f.height - n.height, o);\n  d = {\n    x: w,\n    y: r,\n    width: v,\n    height: g\n  }, oe(d), k(\"__activeStagePosition\", d);\n}\nfunction te(e) {\n  if (!e)\n    return;\n  const o = e.getBoundingClientRect(), t = {\n    x: o.x,\n    y: o.y,\n    width: o.width,\n    height: o.height\n  };\n  k(\"__activeStagePosition\", t), oe(t);\n}\nfunction he() {\n  const e = l(\"__activeStagePosition\"), o = l(\"__overlaySvg\");\n  if (!e)\n    return;\n  if (!o) {\n    console.warn(\"No stage svg found.\");\n    return;\n  }\n  const t = window.innerWidth, i = window.innerHeight;\n  o.setAttribute(\"viewBox\", `0 0 ${t} ${i}`);\n}\nfunction ge(e) {\n  const o = we(e);\n  document.body.appendChild(o), re(o, (t) => {\n    t.target.tagName === \"path\" && L(\"overlayClick\");\n  }), k(\"__overlaySvg\", o);\n}\nfunction oe(e) {\n  const o = l(\"__overlaySvg\");\n  if (!o) {\n    ge(e);\n    return;\n  }\n  const t = o.firstElementChild;\n  if ((t == null ? void 0 : t.tagName) !== \"path\")\n    throw new Error(\"no path element found in stage svg\");\n  t.setAttribute(\"d\", ie(e));\n}\nfunction we(e) {\n  const o = window.innerWidth, t = window.innerHeight, i = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  i.classList.add(\"driver-overlay\", \"driver-overlay-animated\"), i.setAttribute(\"viewBox\", `0 0 ${o} ${t}`), i.setAttribute(\"xmlSpace\", \"preserve\"), i.setAttribute(\"xmlnsXlink\", \"http://www.w3.org/1999/xlink\"), i.setAttribute(\"version\", \"1.1\"), i.setAttribute(\"preserveAspectRatio\", \"xMinYMin slice\"), i.style.fillRule = \"evenodd\", i.style.clipRule = \"evenodd\", i.style.strokeLinejoin = \"round\", i.style.strokeMiterlimit = \"2\", i.style.zIndex = \"10000\", i.style.position = \"fixed\", i.style.top = \"0\", i.style.left = \"0\", i.style.width = \"100%\", i.style.height = \"100%\";\n  const d = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  return d.setAttribute(\"d\", ie(e)), d.style.fill = s(\"overlayColor\") || \"rgb(0,0,0)\", d.style.opacity = `${s(\"overlayOpacity\")}`, d.style.pointerEvents = \"auto\", d.style.cursor = \"auto\", i.appendChild(d), i;\n}\nfunction ie(e) {\n  const o = window.innerWidth, t = window.innerHeight, i = s(\"stagePadding\") || 0, d = s(\"stageRadius\") || 0, n = e.width + i * 2, f = e.height + i * 2, w = Math.min(d, n / 2, f / 2), r = Math.floor(Math.max(w, 0)), v = e.x - i + r, g = e.y - i, y = n - r * 2, a = f - r * 2;\n  return `M${o},0L0,0L0,${t}L${o},${t}L${o},0Z\n    M${v},${g} h${y} a${r},${r} 0 0 1 ${r},${r} v${a} a${r},${r} 0 0 1 -${r},${r} h-${y} a${r},${r} 0 0 1 -${r},-${r} v-${a} a${r},${r} 0 0 1 ${r},-${r} z`;\n}\nfunction me() {\n  const e = l(\"__overlaySvg\");\n  e && e.remove();\n}\nfunction ye() {\n  const e = document.getElementById(\"driver-dummy-element\");\n  if (e)\n    return e;\n  let o = document.createElement(\"div\");\n  return o.id = \"driver-dummy-element\", o.style.width = \"0\", o.style.height = \"0\", o.style.pointerEvents = \"none\", o.style.opacity = \"0\", o.style.position = \"fixed\", o.style.top = \"50%\", o.style.left = \"50%\", document.body.appendChild(o), o;\n}\nfunction j(e) {\n  const { element: o } = e;\n  let t = typeof o == \"function\" ? o() : typeof o == \"string\" ? document.querySelector(o) : o;\n  t || (t = ye()), be(t, e);\n}\nfunction xe() {\n  const e = l(\"__activeElement\"), o = l(\"__activeStep\");\n  e && (te(e), he(), ae(e, o));\n}\nfunction be(e, o) {\n  var C;\n  const i = Date.now(), d = l(\"__activeStep\"), n = l(\"__activeElement\") || e, f = !n || n === e, w = e.id === \"driver-dummy-element\", r = n.id === \"driver-dummy-element\", v = s(\"animate\"), g = o.onHighlightStarted || s(\"onHighlightStarted\"), y = (o == null ? void 0 : o.onHighlighted) || s(\"onHighlighted\"), a = (d == null ? void 0 : d.onDeselected) || s(\"onDeselected\"), p = s(), c = l();\n  !f && a && a(r ? void 0 : n, d, {\n    config: p,\n    state: c,\n    driver: _()\n  }), g && g(w ? void 0 : e, o, {\n    config: p,\n    state: c,\n    driver: _()\n  });\n  const u = !f && v;\n  let h = !1;\n  Se(), k(\"previousStep\", d), k(\"previousElement\", n), k(\"activeStep\", o), k(\"activeElement\", e);\n  const m = () => {\n    if (l(\"__transitionCallback\") !== m)\n      return;\n    const b = Date.now() - i, E = 400 - b <= 400 / 2;\n    o.popover && E && !h && u && (Q(e, o), h = !0), s(\"animate\") && b < 400 ? fe(b, 400, n, e) : (te(e), y && y(w ? void 0 : e, o, {\n      config: s(),\n      state: l(),\n      driver: _()\n    }), k(\"__transitionCallback\", void 0), k(\"__previousStep\", d), k(\"__previousElement\", n), k(\"__activeStep\", o), k(\"__activeElement\", e)), window.requestAnimationFrame(m);\n  };\n  k(\"__transitionCallback\", m), window.requestAnimationFrame(m), ee(e), !u && o.popover && Q(e, o), n.classList.remove(\"driver-active-element\", \"driver-no-interaction\"), n.removeAttribute(\"aria-haspopup\"), n.removeAttribute(\"aria-expanded\"), n.removeAttribute(\"aria-controls\"), ((C = o.disableActiveInteraction) != null ? C : s(\"disableActiveInteraction\")) && e.classList.add(\"driver-no-interaction\"), e.classList.add(\"driver-active-element\"), e.setAttribute(\"aria-haspopup\", \"dialog\"), e.setAttribute(\"aria-expanded\", \"true\"), e.setAttribute(\"aria-controls\", \"driver-popover-content\");\n}\nfunction Ce() {\n  var e;\n  (e = document.getElementById(\"driver-dummy-element\")) == null || e.remove(), document.querySelectorAll(\".driver-active-element\").forEach((o) => {\n    o.classList.remove(\"driver-active-element\", \"driver-no-interaction\"), o.removeAttribute(\"aria-haspopup\"), o.removeAttribute(\"aria-expanded\"), o.removeAttribute(\"aria-controls\");\n  });\n}\nfunction M() {\n  const e = l(\"__resizeTimeout\");\n  e && window.cancelAnimationFrame(e), k(\"__resizeTimeout\", window.requestAnimationFrame(xe));\n}\nfunction Pe(e) {\n  var r;\n  if (!l(\"isInitialized\") || !(e.key === \"Tab\" || e.keyCode === 9))\n    return;\n  const i = l(\"__activeElement\"), d = (r = l(\"popover\")) == null ? void 0 : r.wrapper, n = U([\n    ...d ? [d] : [],\n    ...i ? [i] : []\n  ]), f = n[0], w = n[n.length - 1];\n  if (e.preventDefault(), e.shiftKey) {\n    const v = n[n.indexOf(document.activeElement) - 1] || w;\n    v == null || v.focus();\n  } else {\n    const v = n[n.indexOf(document.activeElement) + 1] || f;\n    v == null || v.focus();\n  }\n}\nfunction ne(e) {\n  var t;\n  ((t = s(\"allowKeyboardControl\")) == null || t) && (e.key === \"Escape\" ? L(\"escapePress\") : e.key === \"ArrowRight\" ? L(\"arrowRightPress\") : e.key === \"ArrowLeft\" && L(\"arrowLeftPress\"));\n}\nfunction re(e, o, t) {\n  const i = (n, f) => {\n    const w = n.target;\n    e.contains(w) && ((!t || t(w)) && (n.preventDefault(), n.stopPropagation(), n.stopImmediatePropagation()), f == null || f(n));\n  };\n  document.addEventListener(\"pointerdown\", i, !0), document.addEventListener(\"mousedown\", i, !0), document.addEventListener(\"pointerup\", i, !0), document.addEventListener(\"mouseup\", i, !0), document.addEventListener(\n    \"click\",\n    (n) => {\n      i(n, o);\n    },\n    !0\n  );\n}\nfunction ke() {\n  window.addEventListener(\"keyup\", ne, !1), window.addEventListener(\"keydown\", Pe, !1), window.addEventListener(\"resize\", M), window.addEventListener(\"scroll\", M);\n}\nfunction _e() {\n  window.removeEventListener(\"keyup\", ne), window.removeEventListener(\"resize\", M), window.removeEventListener(\"scroll\", M);\n}\nfunction Se() {\n  const e = l(\"popover\");\n  e && (e.wrapper.style.display = \"none\");\n}\nfunction Q(e, o) {\n  var b, P;\n  let t = l(\"popover\");\n  t && document.body.removeChild(t.wrapper), t = Le(), document.body.appendChild(t.wrapper);\n  const {\n    title: i,\n    description: d,\n    showButtons: n,\n    disableButtons: f,\n    showProgress: w,\n    nextBtnText: r = s(\"nextBtnText\") || \"Next &rarr;\",\n    prevBtnText: v = s(\"prevBtnText\") || \"&larr; Previous\",\n    progressText: g = s(\"progressText\") || \"{current} of {total}\"\n  } = o.popover || {};\n  t.nextButton.innerHTML = r, t.previousButton.innerHTML = v, t.progress.innerHTML = g, i ? (t.title.innerHTML = i, t.title.style.display = \"block\") : t.title.style.display = \"none\", d ? (t.description.innerHTML = d, t.description.style.display = \"block\") : t.description.style.display = \"none\";\n  const y = n || s(\"showButtons\"), a = w || s(\"showProgress\") || !1, p = (y == null ? void 0 : y.includes(\"next\")) || (y == null ? void 0 : y.includes(\"previous\")) || a;\n  t.closeButton.style.display = y.includes(\"close\") ? \"block\" : \"none\", p ? (t.footer.style.display = \"flex\", t.progress.style.display = a ? \"block\" : \"none\", t.nextButton.style.display = y.includes(\"next\") ? \"block\" : \"none\", t.previousButton.style.display = y.includes(\"previous\") ? \"block\" : \"none\") : t.footer.style.display = \"none\";\n  const c = f || s(\"disableButtons\") || [];\n  c != null && c.includes(\"next\") && (t.nextButton.disabled = !0, t.nextButton.classList.add(\"driver-popover-btn-disabled\")), c != null && c.includes(\"previous\") && (t.previousButton.disabled = !0, t.previousButton.classList.add(\"driver-popover-btn-disabled\")), c != null && c.includes(\"close\") && (t.closeButton.disabled = !0, t.closeButton.classList.add(\"driver-popover-btn-disabled\"));\n  const u = t.wrapper;\n  u.style.display = \"block\", u.style.left = \"\", u.style.top = \"\", u.style.bottom = \"\", u.style.right = \"\", u.id = \"driver-popover-content\", u.setAttribute(\"role\", \"dialog\"), u.setAttribute(\"aria-labelledby\", \"driver-popover-title\"), u.setAttribute(\"aria-describedby\", \"driver-popover-description\");\n  const h = t.arrow;\n  h.className = \"driver-popover-arrow\";\n  const m = ((b = o.popover) == null ? void 0 : b.popoverClass) || s(\"popoverClass\") || \"\";\n  u.className = `driver-popover ${m}`.trim(), re(\n    t.wrapper,\n    (E) => {\n      var B, R, W;\n      const T = E.target, A = ((B = o.popover) == null ? void 0 : B.onNextClick) || s(\"onNextClick\"), H = ((R = o.popover) == null ? void 0 : R.onPrevClick) || s(\"onPrevClick\"), $ = ((W = o.popover) == null ? void 0 : W.onCloseClick) || s(\"onCloseClick\");\n      if (T.closest(\".driver-popover-next-btn\"))\n        return A ? A(e, o, {\n          config: s(),\n          state: l(),\n          driver: _()\n        }) : L(\"nextClick\");\n      if (T.closest(\".driver-popover-prev-btn\"))\n        return H ? H(e, o, {\n          config: s(),\n          state: l(),\n          driver: _()\n        }) : L(\"prevClick\");\n      if (T.closest(\".driver-popover-close-btn\"))\n        return $ ? $(e, o, {\n          config: s(),\n          state: l(),\n          driver: _()\n        }) : L(\"closeClick\");\n    },\n    (E) => !(t != null && t.description.contains(E)) && !(t != null && t.title.contains(E)) && typeof E.className == \"string\" && E.className.includes(\"driver-popover\")\n  ), k(\"popover\", t);\n  const x = ((P = o.popover) == null ? void 0 : P.onPopoverRender) || s(\"onPopoverRender\");\n  x && x(t, {\n    config: s(),\n    state: l(),\n    driver: _()\n  }), ae(e, o), ee(u);\n  const C = e.classList.contains(\"driver-dummy-element\"), S = U([u, ...C ? [] : [e]]);\n  S.length > 0 && S[0].focus();\n}\nfunction se() {\n  const e = l(\"popover\");\n  if (!(e != null && e.wrapper))\n    return;\n  const o = e.wrapper.getBoundingClientRect(), t = s(\"stagePadding\") || 0, i = s(\"popoverOffset\") || 0;\n  return {\n    width: o.width + t + i,\n    height: o.height + t + i,\n    realWidth: o.width,\n    realHeight: o.height\n  };\n}\nfunction Z(e, o) {\n  const { elementDimensions: t, popoverDimensions: i, popoverPadding: d, popoverArrowDimensions: n } = o;\n  return e === \"start\" ? Math.max(\n    Math.min(\n      t.top - d,\n      window.innerHeight - i.realHeight - n.width\n    ),\n    n.width\n  ) : e === \"end\" ? Math.max(\n    Math.min(\n      t.top - (i == null ? void 0 : i.realHeight) + t.height + d,\n      window.innerHeight - (i == null ? void 0 : i.realHeight) - n.width\n    ),\n    n.width\n  ) : e === \"center\" ? Math.max(\n    Math.min(\n      t.top + t.height / 2 - (i == null ? void 0 : i.realHeight) / 2,\n      window.innerHeight - (i == null ? void 0 : i.realHeight) - n.width\n    ),\n    n.width\n  ) : 0;\n}\nfunction G(e, o) {\n  const { elementDimensions: t, popoverDimensions: i, popoverPadding: d, popoverArrowDimensions: n } = o;\n  return e === \"start\" ? Math.max(\n    Math.min(\n      t.left - d,\n      window.innerWidth - i.realWidth - n.width\n    ),\n    n.width\n  ) : e === \"end\" ? Math.max(\n    Math.min(\n      t.left - (i == null ? void 0 : i.realWidth) + t.width + d,\n      window.innerWidth - (i == null ? void 0 : i.realWidth) - n.width\n    ),\n    n.width\n  ) : e === \"center\" ? Math.max(\n    Math.min(\n      t.left + t.width / 2 - (i == null ? void 0 : i.realWidth) / 2,\n      window.innerWidth - (i == null ? void 0 : i.realWidth) - n.width\n    ),\n    n.width\n  ) : 0;\n}\nfunction ae(e, o) {\n  const t = l(\"popover\");\n  if (!t)\n    return;\n  const { align: i = \"start\", side: d = \"left\" } = (o == null ? void 0 : o.popover) || {}, n = i, f = e.id === \"driver-dummy-element\" ? \"over\" : d, w = s(\"stagePadding\") || 0, r = se(), v = t.arrow.getBoundingClientRect(), g = e.getBoundingClientRect(), y = g.top - r.height;\n  let a = y >= 0;\n  const p = window.innerHeight - (g.bottom + r.height);\n  let c = p >= 0;\n  const u = g.left - r.width;\n  let h = u >= 0;\n  const m = window.innerWidth - (g.right + r.width);\n  let x = m >= 0;\n  const C = !a && !c && !h && !x;\n  let S = f;\n  if (f === \"top\" && a ? x = h = c = !1 : f === \"bottom\" && c ? x = h = a = !1 : f === \"left\" && h ? x = a = c = !1 : f === \"right\" && x && (h = a = c = !1), f === \"over\") {\n    const b = window.innerWidth / 2 - r.realWidth / 2, P = window.innerHeight / 2 - r.realHeight / 2;\n    t.wrapper.style.left = `${b}px`, t.wrapper.style.right = \"auto\", t.wrapper.style.top = `${P}px`, t.wrapper.style.bottom = \"auto\";\n  } else if (C) {\n    const b = window.innerWidth / 2 - (r == null ? void 0 : r.realWidth) / 2, P = 10;\n    t.wrapper.style.left = `${b}px`, t.wrapper.style.right = \"auto\", t.wrapper.style.bottom = `${P}px`, t.wrapper.style.top = \"auto\";\n  } else if (h) {\n    const b = Math.min(\n      u,\n      window.innerWidth - (r == null ? void 0 : r.realWidth) - v.width\n    ), P = Z(n, {\n      elementDimensions: g,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.left = `${b}px`, t.wrapper.style.top = `${P}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.right = \"auto\", S = \"left\";\n  } else if (x) {\n    const b = Math.min(\n      m,\n      window.innerWidth - (r == null ? void 0 : r.realWidth) - v.width\n    ), P = Z(n, {\n      elementDimensions: g,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.right = `${b}px`, t.wrapper.style.top = `${P}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.left = \"auto\", S = \"right\";\n  } else if (a) {\n    const b = Math.min(\n      y,\n      window.innerHeight - r.realHeight - v.width\n    );\n    let P = G(n, {\n      elementDimensions: g,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.top = `${b}px`, t.wrapper.style.left = `${P}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.right = \"auto\", S = \"top\";\n  } else if (c) {\n    const b = Math.min(\n      p,\n      window.innerHeight - (r == null ? void 0 : r.realHeight) - v.width\n    );\n    let P = G(n, {\n      elementDimensions: g,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.left = `${P}px`, t.wrapper.style.bottom = `${b}px`, t.wrapper.style.top = \"auto\", t.wrapper.style.right = \"auto\", S = \"bottom\";\n  }\n  C ? t.arrow.classList.add(\"driver-popover-arrow-none\") : Ee(n, S, e);\n}\nfunction Ee(e, o, t) {\n  const i = l(\"popover\");\n  if (!i)\n    return;\n  const d = t.getBoundingClientRect(), n = se(), f = i.arrow, w = n.width, r = window.innerWidth, v = d.width, g = d.left, y = n.height, a = window.innerHeight, p = d.top, c = d.height;\n  f.className = \"driver-popover-arrow\";\n  let u = o, h = e;\n  if (o === \"top\" ? (g + v <= 0 ? (u = \"right\", h = \"end\") : g + v - w <= 0 && (u = \"top\", h = \"start\"), g >= r ? (u = \"left\", h = \"end\") : g + w >= r && (u = \"top\", h = \"end\")) : o === \"bottom\" ? (g + v <= 0 ? (u = \"right\", h = \"start\") : g + v - w <= 0 && (u = \"bottom\", h = \"start\"), g >= r ? (u = \"left\", h = \"start\") : g + w >= r && (u = \"bottom\", h = \"end\")) : o === \"left\" ? (p + c <= 0 ? (u = \"bottom\", h = \"end\") : p + c - y <= 0 && (u = \"left\", h = \"start\"), p >= a ? (u = \"top\", h = \"end\") : p + y >= a && (u = \"left\", h = \"end\")) : o === \"right\" && (p + c <= 0 ? (u = \"bottom\", h = \"start\") : p + c - y <= 0 && (u = \"right\", h = \"start\"), p >= a ? (u = \"top\", h = \"start\") : p + y >= a && (u = \"right\", h = \"end\")), !u)\n    f.classList.add(\"driver-popover-arrow-none\");\n  else {\n    f.classList.add(`driver-popover-arrow-side-${u}`), f.classList.add(`driver-popover-arrow-align-${h}`);\n    const m = t.getBoundingClientRect(), x = f.getBoundingClientRect(), C = s(\"stagePadding\") || 0, S = m.left - C < window.innerWidth && m.right + C > 0 && m.top - C < window.innerHeight && m.bottom + C > 0;\n    o === \"bottom\" && S && (x.x > m.x && x.x + x.width < m.x + m.width ? i.wrapper.style.transform = \"translateY(0)\" : (f.classList.remove(`driver-popover-arrow-align-${h}`), f.classList.add(\"driver-popover-arrow-none\"), i.wrapper.style.transform = `translateY(-${C / 2}px)`));\n  }\n}\nfunction Le() {\n  const e = document.createElement(\"div\");\n  e.classList.add(\"driver-popover\");\n  const o = document.createElement(\"div\");\n  o.classList.add(\"driver-popover-arrow\");\n  const t = document.createElement(\"header\");\n  t.id = \"driver-popover-title\", t.classList.add(\"driver-popover-title\"), t.style.display = \"none\", t.innerText = \"Popover Title\";\n  const i = document.createElement(\"div\");\n  i.id = \"driver-popover-description\", i.classList.add(\"driver-popover-description\"), i.style.display = \"none\", i.innerText = \"Popover description is here\";\n  const d = document.createElement(\"button\");\n  d.type = \"button\", d.classList.add(\"driver-popover-close-btn\"), d.setAttribute(\"aria-label\", \"Close\"), d.innerHTML = \"&times;\";\n  const n = document.createElement(\"footer\");\n  n.classList.add(\"driver-popover-footer\");\n  const f = document.createElement(\"span\");\n  f.classList.add(\"driver-popover-progress-text\"), f.innerText = \"\";\n  const w = document.createElement(\"span\");\n  w.classList.add(\"driver-popover-navigation-btns\");\n  const r = document.createElement(\"button\");\n  r.type = \"button\", r.classList.add(\"driver-popover-prev-btn\"), r.innerHTML = \"&larr; Previous\";\n  const v = document.createElement(\"button\");\n  return v.type = \"button\", v.classList.add(\"driver-popover-next-btn\"), v.innerHTML = \"Next &rarr;\", w.appendChild(r), w.appendChild(v), n.appendChild(f), n.appendChild(w), e.appendChild(d), e.appendChild(o), e.appendChild(t), e.appendChild(i), e.appendChild(n), {\n    wrapper: e,\n    arrow: o,\n    title: t,\n    description: i,\n    footer: n,\n    previousButton: r,\n    nextButton: v,\n    closeButton: d,\n    footerButtons: w,\n    progress: f\n  };\n}\nfunction Te() {\n  var o;\n  const e = l(\"popover\");\n  e && ((o = e.wrapper.parentElement) == null || o.removeChild(e.wrapper));\n}\nfunction Ae(e = {}) {\n  F(e);\n  function o() {\n    s(\"allowClose\") && g();\n  }\n  function t() {\n    const a = s(\"overlayClickBehavior\");\n    if (s(\"allowClose\") && a === \"close\") {\n      g();\n      return;\n    }\n    if (typeof a == \"function\") {\n      const p = l(\"__activeStep\"), c = l(\"__activeElement\");\n      a(c, p, {\n        config: s(),\n        state: l(),\n        driver: _()\n      });\n      return;\n    }\n    a === \"nextStep\" && i();\n  }\n  function i() {\n    const a = l(\"activeIndex\"), p = s(\"steps\") || [];\n    if (typeof a == \"undefined\")\n      return;\n    const c = a + 1;\n    p[c] ? v(c) : g();\n  }\n  function d() {\n    const a = l(\"activeIndex\"), p = s(\"steps\") || [];\n    if (typeof a == \"undefined\")\n      return;\n    const c = a - 1;\n    p[c] ? v(c) : g();\n  }\n  function n(a) {\n    (s(\"steps\") || [])[a] ? v(a) : g();\n  }\n  function f() {\n    var x;\n    if (l(\"__transitionCallback\"))\n      return;\n    const p = l(\"activeIndex\"), c = l(\"__activeStep\"), u = l(\"__activeElement\");\n    if (typeof p == \"undefined\" || typeof c == \"undefined\" || typeof l(\"activeIndex\") == \"undefined\")\n      return;\n    const m = ((x = c.popover) == null ? void 0 : x.onPrevClick) || s(\"onPrevClick\");\n    if (m)\n      return m(u, c, {\n        config: s(),\n        state: l(),\n        driver: _()\n      });\n    d();\n  }\n  function w() {\n    var m;\n    if (l(\"__transitionCallback\"))\n      return;\n    const p = l(\"activeIndex\"), c = l(\"__activeStep\"), u = l(\"__activeElement\");\n    if (typeof p == \"undefined\" || typeof c == \"undefined\")\n      return;\n    const h = ((m = c.popover) == null ? void 0 : m.onNextClick) || s(\"onNextClick\");\n    if (h)\n      return h(u, c, {\n        config: s(),\n        state: l(),\n        driver: _()\n      });\n    i();\n  }\n  function r() {\n    l(\"isInitialized\") || (k(\"isInitialized\", !0), document.body.classList.add(\"driver-active\", s(\"animate\") ? \"driver-fade\" : \"driver-simple\"), ke(), N(\"overlayClick\", t), N(\"escapePress\", o), N(\"arrowLeftPress\", f), N(\"arrowRightPress\", w));\n  }\n  function v(a = 0) {\n    var $, B, R, W, V, q, K, Y;\n    const p = s(\"steps\");\n    if (!p) {\n      console.error(\"No steps to drive through\"), g();\n      return;\n    }\n    if (!p[a]) {\n      g();\n      return;\n    }\n    k(\"__activeOnDestroyed\", document.activeElement), k(\"activeIndex\", a);\n    const c = p[a], u = p[a + 1], h = p[a - 1], m = (($ = c.popover) == null ? void 0 : $.doneBtnText) || s(\"doneBtnText\") || \"Done\", x = s(\"allowClose\"), C = typeof ((B = c.popover) == null ? void 0 : B.showProgress) != \"undefined\" ? (R = c.popover) == null ? void 0 : R.showProgress : s(\"showProgress\"), b = (((W = c.popover) == null ? void 0 : W.progressText) || s(\"progressText\") || \"{{current}} of {{total}}\").replace(\"{{current}}\", `${a + 1}`).replace(\"{{total}}\", `${p.length}`), P = ((V = c.popover) == null ? void 0 : V.showButtons) || s(\"showButtons\"), E = [\n      \"next\",\n      \"previous\",\n      ...x ? [\"close\"] : []\n    ].filter((ce) => !(P != null && P.length) || P.includes(ce)), T = ((q = c.popover) == null ? void 0 : q.onNextClick) || s(\"onNextClick\"), A = ((K = c.popover) == null ? void 0 : K.onPrevClick) || s(\"onPrevClick\"), H = ((Y = c.popover) == null ? void 0 : Y.onCloseClick) || s(\"onCloseClick\");\n    j({\n      ...c,\n      popover: {\n        showButtons: E,\n        nextBtnText: u ? void 0 : m,\n        disableButtons: [...h ? [] : [\"previous\"]],\n        showProgress: C,\n        progressText: b,\n        onNextClick: T || (() => {\n          u ? v(a + 1) : g();\n        }),\n        onPrevClick: A || (() => {\n          v(a - 1);\n        }),\n        onCloseClick: H || (() => {\n          g();\n        }),\n        ...(c == null ? void 0 : c.popover) || {}\n      }\n    });\n  }\n  function g(a = !0) {\n    const p = l(\"__activeElement\"), c = l(\"__activeStep\"), u = l(\"__activeOnDestroyed\"), h = s(\"onDestroyStarted\");\n    if (a && h) {\n      const C = !p || (p == null ? void 0 : p.id) === \"driver-dummy-element\";\n      h(C ? void 0 : p, c, {\n        config: s(),\n        state: l(),\n        driver: _()\n      });\n      return;\n    }\n    const m = (c == null ? void 0 : c.onDeselected) || s(\"onDeselected\"), x = s(\"onDestroyed\");\n    if (document.body.classList.remove(\"driver-active\", \"driver-fade\", \"driver-simple\"), _e(), Te(), Ce(), me(), de(), X(), p && c) {\n      const C = p.id === \"driver-dummy-element\";\n      m && m(C ? void 0 : p, c, {\n        config: s(),\n        state: l(),\n        driver: _()\n      }), x && x(C ? void 0 : p, c, {\n        config: s(),\n        state: l(),\n        driver: _()\n      });\n    }\n    u && u.focus();\n  }\n  const y = {\n    isActive: () => l(\"isInitialized\") || !1,\n    refresh: M,\n    drive: (a = 0) => {\n      r(), v(a);\n    },\n    setConfig: F,\n    setSteps: (a) => {\n      X(), F({\n        ...s(),\n        steps: a\n      });\n    },\n    getConfig: s,\n    getState: l,\n    getActiveIndex: () => l(\"activeIndex\"),\n    isFirstStep: () => l(\"activeIndex\") === 0,\n    isLastStep: () => {\n      const a = s(\"steps\") || [], p = l(\"activeIndex\");\n      return p !== void 0 && p === a.length - 1;\n    },\n    getActiveStep: () => l(\"activeStep\"),\n    getActiveElement: () => l(\"activeElement\"),\n    getPreviousElement: () => l(\"previousElement\"),\n    getPreviousStep: () => l(\"previousStep\"),\n    moveNext: i,\n    movePrevious: d,\n    moveTo: n,\n    hasNextStep: () => {\n      const a = s(\"steps\") || [], p = l(\"activeIndex\");\n      return p !== void 0 && !!a[p + 1];\n    },\n    hasPreviousStep: () => {\n      const a = s(\"steps\") || [], p = l(\"activeIndex\");\n      return p !== void 0 && !!a[p - 1];\n    },\n    highlight: (a) => {\n      r(), j({\n        ...a,\n        popover: a.popover ? {\n          showButtons: [],\n          showProgress: !1,\n          progressText: \"\",\n          ...a.popover\n        } : void 0\n      });\n    },\n    destroy: () => {\n      g(!1);\n    }\n  };\n  return le(y), y;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZHJpdmVyLmpzL2Rpc3QvZHJpdmVyLmpzLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsVUFBVTtBQUNWLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxHQUFHLEVBQUUsRUFBRTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsR0FBRyxFQUFFLEVBQUU7QUFDeEc7QUFDQSw0R0FBNEcsb0JBQW9CO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBLGFBQWEsRUFB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzWUFBc1ksVUFBVSxLQUFLLE9BQU8sY0FBYyxTQUFTLE1BQU0sTUFBTSxjQUFjLE9BQU8sTUFBTSxTQUFTO0FBQ25lO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3NyLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2RyaXZlci5qcy9kaXN0L2RyaXZlci5qcy5tanM/ZTkyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgeiA9IHt9LCBKO1xuZnVuY3Rpb24gRihlID0ge30pIHtcbiAgeiA9IHtcbiAgICBhbmltYXRlOiAhMCxcbiAgICBhbGxvd0Nsb3NlOiAhMCxcbiAgICBvdmVybGF5Q2xpY2tCZWhhdmlvcjogXCJjbG9zZVwiLFxuICAgIG92ZXJsYXlPcGFjaXR5OiAwLjcsXG4gICAgc21vb3RoU2Nyb2xsOiAhMSxcbiAgICBkaXNhYmxlQWN0aXZlSW50ZXJhY3Rpb246ICExLFxuICAgIHNob3dQcm9ncmVzczogITEsXG4gICAgc3RhZ2VQYWRkaW5nOiAxMCxcbiAgICBzdGFnZVJhZGl1czogNSxcbiAgICBwb3BvdmVyT2Zmc2V0OiAxMCxcbiAgICBzaG93QnV0dG9uczogW1wibmV4dFwiLCBcInByZXZpb3VzXCIsIFwiY2xvc2VcIl0sXG4gICAgZGlzYWJsZUJ1dHRvbnM6IFtdLFxuICAgIG92ZXJsYXlDb2xvcjogXCIjMDAwXCIsXG4gICAgLi4uZVxuICB9O1xufVxuZnVuY3Rpb24gcyhlKSB7XG4gIHJldHVybiBlID8geltlXSA6IHo7XG59XG5mdW5jdGlvbiBsZShlKSB7XG4gIEogPSBlO1xufVxuZnVuY3Rpb24gXygpIHtcbiAgcmV0dXJuIEo7XG59XG5sZXQgSSA9IHt9O1xuZnVuY3Rpb24gTihlLCBvKSB7XG4gIElbZV0gPSBvO1xufVxuZnVuY3Rpb24gTChlKSB7XG4gIHZhciBvO1xuICAobyA9IElbZV0pID09IG51bGwgfHwgby5jYWxsKEkpO1xufVxuZnVuY3Rpb24gZGUoKSB7XG4gIEkgPSB7fTtcbn1cbmZ1bmN0aW9uIE8oZSwgbywgdCwgaSkge1xuICByZXR1cm4gKGUgLz0gaSAvIDIpIDwgMSA/IHQgLyAyICogZSAqIGUgKyBvIDogLXQgLyAyICogKC0tZSAqIChlIC0gMikgLSAxKSArIG87XG59XG5mdW5jdGlvbiBVKGUpIHtcbiAgY29uc3QgbyA9ICdhW2hyZWZdOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBpbnB1dFt0eXBlPVwidGV4dFwiXTpub3QoW2Rpc2FibGVkXSksIGlucHV0W3R5cGU9XCJyYWRpb1wiXTpub3QoW2Rpc2FibGVkXSksIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSknO1xuICByZXR1cm4gZS5mbGF0TWFwKCh0KSA9PiB7XG4gICAgY29uc3QgaSA9IHQubWF0Y2hlcyhvKSwgZCA9IEFycmF5LmZyb20odC5xdWVyeVNlbGVjdG9yQWxsKG8pKTtcbiAgICByZXR1cm4gWy4uLmkgPyBbdF0gOiBbXSwgLi4uZF07XG4gIH0pLmZpbHRlcigodCkgPT4gZ2V0Q29tcHV0ZWRTdHlsZSh0KS5wb2ludGVyRXZlbnRzICE9PSBcIm5vbmVcIiAmJiB2ZSh0KSk7XG59XG5mdW5jdGlvbiBlZShlKSB7XG4gIGlmICghZSB8fCB1ZShlKSlcbiAgICByZXR1cm47XG4gIGNvbnN0IG8gPSBzKFwic21vb3RoU2Nyb2xsXCIpLCB0ID0gZS5vZmZzZXRIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIGUuc2Nyb2xsSW50b1ZpZXcoe1xuICAgIC8vIFJlbW92aW5nIHRoZSBzbW9vdGggc2Nyb2xsaW5nIGZvciBlbGVtZW50cyB3aGljaCBleGlzdCBpbnNpZGUgdGhlIHNjcm9sbGFibGUgcGFyZW50XG4gICAgLy8gVGhpcyB3YXMgY2F1c2luZyB0aGUgaGlnaGxpZ2h0IHRvIG5vdCBwcm9wZXJseSByZW5kZXJcbiAgICBiZWhhdmlvcjogIW8gfHwgcGUoZSkgPyBcImF1dG9cIiA6IFwic21vb3RoXCIsXG4gICAgaW5saW5lOiBcImNlbnRlclwiLFxuICAgIGJsb2NrOiB0ID8gXCJzdGFydFwiIDogXCJjZW50ZXJcIlxuICB9KTtcbn1cbmZ1bmN0aW9uIHBlKGUpIHtcbiAgaWYgKCFlIHx8ICFlLnBhcmVudEVsZW1lbnQpXG4gICAgcmV0dXJuO1xuICBjb25zdCBvID0gZS5wYXJlbnRFbGVtZW50O1xuICByZXR1cm4gby5zY3JvbGxIZWlnaHQgPiBvLmNsaWVudEhlaWdodDtcbn1cbmZ1bmN0aW9uIHVlKGUpIHtcbiAgY29uc3QgbyA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiBvLnRvcCA+PSAwICYmIG8ubGVmdCA+PSAwICYmIG8uYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiYgby5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKTtcbn1cbmZ1bmN0aW9uIHZlKGUpIHtcbiAgcmV0dXJuICEhKGUub2Zmc2V0V2lkdGggfHwgZS5vZmZzZXRIZWlnaHQgfHwgZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG59XG5sZXQgRCA9IHt9O1xuZnVuY3Rpb24gayhlLCBvKSB7XG4gIERbZV0gPSBvO1xufVxuZnVuY3Rpb24gbChlKSB7XG4gIHJldHVybiBlID8gRFtlXSA6IEQ7XG59XG5mdW5jdGlvbiBYKCkge1xuICBEID0ge307XG59XG5mdW5jdGlvbiBmZShlLCBvLCB0LCBpKSB7XG4gIGxldCBkID0gbChcIl9fYWN0aXZlU3RhZ2VQb3NpdGlvblwiKTtcbiAgY29uc3QgbiA9IGQgfHwgdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgZiA9IGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHcgPSBPKGUsIG4ueCwgZi54IC0gbi54LCBvKSwgciA9IE8oZSwgbi55LCBmLnkgLSBuLnksIG8pLCB2ID0gTyhlLCBuLndpZHRoLCBmLndpZHRoIC0gbi53aWR0aCwgbyksIGcgPSBPKGUsIG4uaGVpZ2h0LCBmLmhlaWdodCAtIG4uaGVpZ2h0LCBvKTtcbiAgZCA9IHtcbiAgICB4OiB3LFxuICAgIHk6IHIsXG4gICAgd2lkdGg6IHYsXG4gICAgaGVpZ2h0OiBnXG4gIH0sIG9lKGQpLCBrKFwiX19hY3RpdmVTdGFnZVBvc2l0aW9uXCIsIGQpO1xufVxuZnVuY3Rpb24gdGUoZSkge1xuICBpZiAoIWUpXG4gICAgcmV0dXJuO1xuICBjb25zdCBvID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdCA9IHtcbiAgICB4OiBvLngsXG4gICAgeTogby55LFxuICAgIHdpZHRoOiBvLndpZHRoLFxuICAgIGhlaWdodDogby5oZWlnaHRcbiAgfTtcbiAgayhcIl9fYWN0aXZlU3RhZ2VQb3NpdGlvblwiLCB0KSwgb2UodCk7XG59XG5mdW5jdGlvbiBoZSgpIHtcbiAgY29uc3QgZSA9IGwoXCJfX2FjdGl2ZVN0YWdlUG9zaXRpb25cIiksIG8gPSBsKFwiX19vdmVybGF5U3ZnXCIpO1xuICBpZiAoIWUpXG4gICAgcmV0dXJuO1xuICBpZiAoIW8pIHtcbiAgICBjb25zb2xlLndhcm4oXCJObyBzdGFnZSBzdmcgZm91bmQuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0ID0gd2luZG93LmlubmVyV2lkdGgsIGkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIG8uc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBgMCAwICR7dH0gJHtpfWApO1xufVxuZnVuY3Rpb24gZ2UoZSkge1xuICBjb25zdCBvID0gd2UoZSk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobyksIHJlKG8sICh0KSA9PiB7XG4gICAgdC50YXJnZXQudGFnTmFtZSA9PT0gXCJwYXRoXCIgJiYgTChcIm92ZXJsYXlDbGlja1wiKTtcbiAgfSksIGsoXCJfX292ZXJsYXlTdmdcIiwgbyk7XG59XG5mdW5jdGlvbiBvZShlKSB7XG4gIGNvbnN0IG8gPSBsKFwiX19vdmVybGF5U3ZnXCIpO1xuICBpZiAoIW8pIHtcbiAgICBnZShlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdCA9IG8uZmlyc3RFbGVtZW50Q2hpbGQ7XG4gIGlmICgodCA9PSBudWxsID8gdm9pZCAwIDogdC50YWdOYW1lKSAhPT0gXCJwYXRoXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibm8gcGF0aCBlbGVtZW50IGZvdW5kIGluIHN0YWdlIHN2Z1wiKTtcbiAgdC5zZXRBdHRyaWJ1dGUoXCJkXCIsIGllKGUpKTtcbn1cbmZ1bmN0aW9uIHdlKGUpIHtcbiAgY29uc3QgbyA9IHdpbmRvdy5pbm5lcldpZHRoLCB0ID0gd2luZG93LmlubmVySGVpZ2h0LCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gIGkuY2xhc3NMaXN0LmFkZChcImRyaXZlci1vdmVybGF5XCIsIFwiZHJpdmVyLW92ZXJsYXktYW5pbWF0ZWRcIiksIGkuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBgMCAwICR7b30gJHt0fWApLCBpLnNldEF0dHJpYnV0ZShcInhtbFNwYWNlXCIsIFwicHJlc2VydmVcIiksIGkuc2V0QXR0cmlidXRlKFwieG1sbnNYbGlua1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiksIGkuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLCBcIjEuMVwiKSwgaS5zZXRBdHRyaWJ1dGUoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwieE1pbllNaW4gc2xpY2VcIiksIGkuc3R5bGUuZmlsbFJ1bGUgPSBcImV2ZW5vZGRcIiwgaS5zdHlsZS5jbGlwUnVsZSA9IFwiZXZlbm9kZFwiLCBpLnN0eWxlLnN0cm9rZUxpbmVqb2luID0gXCJyb3VuZFwiLCBpLnN0eWxlLnN0cm9rZU1pdGVybGltaXQgPSBcIjJcIiwgaS5zdHlsZS56SW5kZXggPSBcIjEwMDAwXCIsIGkuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCIsIGkuc3R5bGUudG9wID0gXCIwXCIsIGkuc3R5bGUubGVmdCA9IFwiMFwiLCBpLnN0eWxlLndpZHRoID0gXCIxMDAlXCIsIGkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gIGNvbnN0IGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gIHJldHVybiBkLnNldEF0dHJpYnV0ZShcImRcIiwgaWUoZSkpLCBkLnN0eWxlLmZpbGwgPSBzKFwib3ZlcmxheUNvbG9yXCIpIHx8IFwicmdiKDAsMCwwKVwiLCBkLnN0eWxlLm9wYWNpdHkgPSBgJHtzKFwib3ZlcmxheU9wYWNpdHlcIil9YCwgZC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCIsIGQuc3R5bGUuY3Vyc29yID0gXCJhdXRvXCIsIGkuYXBwZW5kQ2hpbGQoZCksIGk7XG59XG5mdW5jdGlvbiBpZShlKSB7XG4gIGNvbnN0IG8gPSB3aW5kb3cuaW5uZXJXaWR0aCwgdCA9IHdpbmRvdy5pbm5lckhlaWdodCwgaSA9IHMoXCJzdGFnZVBhZGRpbmdcIikgfHwgMCwgZCA9IHMoXCJzdGFnZVJhZGl1c1wiKSB8fCAwLCBuID0gZS53aWR0aCArIGkgKiAyLCBmID0gZS5oZWlnaHQgKyBpICogMiwgdyA9IE1hdGgubWluKGQsIG4gLyAyLCBmIC8gMiksIHIgPSBNYXRoLmZsb29yKE1hdGgubWF4KHcsIDApKSwgdiA9IGUueCAtIGkgKyByLCBnID0gZS55IC0gaSwgeSA9IG4gLSByICogMiwgYSA9IGYgLSByICogMjtcbiAgcmV0dXJuIGBNJHtvfSwwTDAsMEwwLCR7dH1MJHtvfSwke3R9TCR7b30sMFpcbiAgICBNJHt2fSwke2d9IGgke3l9IGEke3J9LCR7cn0gMCAwIDEgJHtyfSwke3J9IHYke2F9IGEke3J9LCR7cn0gMCAwIDEgLSR7cn0sJHtyfSBoLSR7eX0gYSR7cn0sJHtyfSAwIDAgMSAtJHtyfSwtJHtyfSB2LSR7YX0gYSR7cn0sJHtyfSAwIDAgMSAke3J9LC0ke3J9IHpgO1xufVxuZnVuY3Rpb24gbWUoKSB7XG4gIGNvbnN0IGUgPSBsKFwiX19vdmVybGF5U3ZnXCIpO1xuICBlICYmIGUucmVtb3ZlKCk7XG59XG5mdW5jdGlvbiB5ZSgpIHtcbiAgY29uc3QgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJpdmVyLWR1bW15LWVsZW1lbnRcIik7XG4gIGlmIChlKVxuICAgIHJldHVybiBlO1xuICBsZXQgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHJldHVybiBvLmlkID0gXCJkcml2ZXItZHVtbXktZWxlbWVudFwiLCBvLnN0eWxlLndpZHRoID0gXCIwXCIsIG8uc3R5bGUuaGVpZ2h0ID0gXCIwXCIsIG8uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiLCBvLnN0eWxlLm9wYWNpdHkgPSBcIjBcIiwgby5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIiwgby5zdHlsZS50b3AgPSBcIjUwJVwiLCBvLnN0eWxlLmxlZnQgPSBcIjUwJVwiLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG8pLCBvO1xufVxuZnVuY3Rpb24gaihlKSB7XG4gIGNvbnN0IHsgZWxlbWVudDogbyB9ID0gZTtcbiAgbGV0IHQgPSB0eXBlb2YgbyA9PSBcImZ1bmN0aW9uXCIgPyBvKCkgOiB0eXBlb2YgbyA9PSBcInN0cmluZ1wiID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvKSA6IG87XG4gIHQgfHwgKHQgPSB5ZSgpKSwgYmUodCwgZSk7XG59XG5mdW5jdGlvbiB4ZSgpIHtcbiAgY29uc3QgZSA9IGwoXCJfX2FjdGl2ZUVsZW1lbnRcIiksIG8gPSBsKFwiX19hY3RpdmVTdGVwXCIpO1xuICBlICYmICh0ZShlKSwgaGUoKSwgYWUoZSwgbykpO1xufVxuZnVuY3Rpb24gYmUoZSwgbykge1xuICB2YXIgQztcbiAgY29uc3QgaSA9IERhdGUubm93KCksIGQgPSBsKFwiX19hY3RpdmVTdGVwXCIpLCBuID0gbChcIl9fYWN0aXZlRWxlbWVudFwiKSB8fCBlLCBmID0gIW4gfHwgbiA9PT0gZSwgdyA9IGUuaWQgPT09IFwiZHJpdmVyLWR1bW15LWVsZW1lbnRcIiwgciA9IG4uaWQgPT09IFwiZHJpdmVyLWR1bW15LWVsZW1lbnRcIiwgdiA9IHMoXCJhbmltYXRlXCIpLCBnID0gby5vbkhpZ2hsaWdodFN0YXJ0ZWQgfHwgcyhcIm9uSGlnaGxpZ2h0U3RhcnRlZFwiKSwgeSA9IChvID09IG51bGwgPyB2b2lkIDAgOiBvLm9uSGlnaGxpZ2h0ZWQpIHx8IHMoXCJvbkhpZ2hsaWdodGVkXCIpLCBhID0gKGQgPT0gbnVsbCA/IHZvaWQgMCA6IGQub25EZXNlbGVjdGVkKSB8fCBzKFwib25EZXNlbGVjdGVkXCIpLCBwID0gcygpLCBjID0gbCgpO1xuICAhZiAmJiBhICYmIGEociA/IHZvaWQgMCA6IG4sIGQsIHtcbiAgICBjb25maWc6IHAsXG4gICAgc3RhdGU6IGMsXG4gICAgZHJpdmVyOiBfKClcbiAgfSksIGcgJiYgZyh3ID8gdm9pZCAwIDogZSwgbywge1xuICAgIGNvbmZpZzogcCxcbiAgICBzdGF0ZTogYyxcbiAgICBkcml2ZXI6IF8oKVxuICB9KTtcbiAgY29uc3QgdSA9ICFmICYmIHY7XG4gIGxldCBoID0gITE7XG4gIFNlKCksIGsoXCJwcmV2aW91c1N0ZXBcIiwgZCksIGsoXCJwcmV2aW91c0VsZW1lbnRcIiwgbiksIGsoXCJhY3RpdmVTdGVwXCIsIG8pLCBrKFwiYWN0aXZlRWxlbWVudFwiLCBlKTtcbiAgY29uc3QgbSA9ICgpID0+IHtcbiAgICBpZiAobChcIl9fdHJhbnNpdGlvbkNhbGxiYWNrXCIpICE9PSBtKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGIgPSBEYXRlLm5vdygpIC0gaSwgRSA9IDQwMCAtIGIgPD0gNDAwIC8gMjtcbiAgICBvLnBvcG92ZXIgJiYgRSAmJiAhaCAmJiB1ICYmIChRKGUsIG8pLCBoID0gITApLCBzKFwiYW5pbWF0ZVwiKSAmJiBiIDwgNDAwID8gZmUoYiwgNDAwLCBuLCBlKSA6ICh0ZShlKSwgeSAmJiB5KHcgPyB2b2lkIDAgOiBlLCBvLCB7XG4gICAgICBjb25maWc6IHMoKSxcbiAgICAgIHN0YXRlOiBsKCksXG4gICAgICBkcml2ZXI6IF8oKVxuICAgIH0pLCBrKFwiX190cmFuc2l0aW9uQ2FsbGJhY2tcIiwgdm9pZCAwKSwgayhcIl9fcHJldmlvdXNTdGVwXCIsIGQpLCBrKFwiX19wcmV2aW91c0VsZW1lbnRcIiwgbiksIGsoXCJfX2FjdGl2ZVN0ZXBcIiwgbyksIGsoXCJfX2FjdGl2ZUVsZW1lbnRcIiwgZSkpLCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG0pO1xuICB9O1xuICBrKFwiX190cmFuc2l0aW9uQ2FsbGJhY2tcIiwgbSksIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobSksIGVlKGUpLCAhdSAmJiBvLnBvcG92ZXIgJiYgUShlLCBvKSwgbi5jbGFzc0xpc3QucmVtb3ZlKFwiZHJpdmVyLWFjdGl2ZS1lbGVtZW50XCIsIFwiZHJpdmVyLW5vLWludGVyYWN0aW9uXCIpLCBuLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIiksIG4ucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiKSwgbi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWNvbnRyb2xzXCIpLCAoKEMgPSBvLmRpc2FibGVBY3RpdmVJbnRlcmFjdGlvbikgIT0gbnVsbCA/IEMgOiBzKFwiZGlzYWJsZUFjdGl2ZUludGVyYWN0aW9uXCIpKSAmJiBlLmNsYXNzTGlzdC5hZGQoXCJkcml2ZXItbm8taW50ZXJhY3Rpb25cIiksIGUuY2xhc3NMaXN0LmFkZChcImRyaXZlci1hY3RpdmUtZWxlbWVudFwiKSwgZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsIFwiZGlhbG9nXCIpLCBlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpLCBlLnNldEF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIiwgXCJkcml2ZXItcG9wb3Zlci1jb250ZW50XCIpO1xufVxuZnVuY3Rpb24gQ2UoKSB7XG4gIHZhciBlO1xuICAoZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJpdmVyLWR1bW15LWVsZW1lbnRcIikpID09IG51bGwgfHwgZS5yZW1vdmUoKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kcml2ZXItYWN0aXZlLWVsZW1lbnRcIikuZm9yRWFjaCgobykgPT4ge1xuICAgIG8uY2xhc3NMaXN0LnJlbW92ZShcImRyaXZlci1hY3RpdmUtZWxlbWVudFwiLCBcImRyaXZlci1uby1pbnRlcmFjdGlvblwiKSwgby5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIpLCBvLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiksIG8ucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1jb250cm9sc1wiKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBNKCkge1xuICBjb25zdCBlID0gbChcIl9fcmVzaXplVGltZW91dFwiKTtcbiAgZSAmJiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZSksIGsoXCJfX3Jlc2l6ZVRpbWVvdXRcIiwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh4ZSkpO1xufVxuZnVuY3Rpb24gUGUoZSkge1xuICB2YXIgcjtcbiAgaWYgKCFsKFwiaXNJbml0aWFsaXplZFwiKSB8fCAhKGUua2V5ID09PSBcIlRhYlwiIHx8IGUua2V5Q29kZSA9PT0gOSkpXG4gICAgcmV0dXJuO1xuICBjb25zdCBpID0gbChcIl9fYWN0aXZlRWxlbWVudFwiKSwgZCA9IChyID0gbChcInBvcG92ZXJcIikpID09IG51bGwgPyB2b2lkIDAgOiByLndyYXBwZXIsIG4gPSBVKFtcbiAgICAuLi5kID8gW2RdIDogW10sXG4gICAgLi4uaSA/IFtpXSA6IFtdXG4gIF0pLCBmID0gblswXSwgdyA9IG5bbi5sZW5ndGggLSAxXTtcbiAgaWYgKGUucHJldmVudERlZmF1bHQoKSwgZS5zaGlmdEtleSkge1xuICAgIGNvbnN0IHYgPSBuW24uaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KSAtIDFdIHx8IHc7XG4gICAgdiA9PSBudWxsIHx8IHYuZm9jdXMoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB2ID0gbltuLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgKyAxXSB8fCBmO1xuICAgIHYgPT0gbnVsbCB8fCB2LmZvY3VzKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5lKGUpIHtcbiAgdmFyIHQ7XG4gICgodCA9IHMoXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiKSkgPT0gbnVsbCB8fCB0KSAmJiAoZS5rZXkgPT09IFwiRXNjYXBlXCIgPyBMKFwiZXNjYXBlUHJlc3NcIikgOiBlLmtleSA9PT0gXCJBcnJvd1JpZ2h0XCIgPyBMKFwiYXJyb3dSaWdodFByZXNzXCIpIDogZS5rZXkgPT09IFwiQXJyb3dMZWZ0XCIgJiYgTChcImFycm93TGVmdFByZXNzXCIpKTtcbn1cbmZ1bmN0aW9uIHJlKGUsIG8sIHQpIHtcbiAgY29uc3QgaSA9IChuLCBmKSA9PiB7XG4gICAgY29uc3QgdyA9IG4udGFyZ2V0O1xuICAgIGUuY29udGFpbnModykgJiYgKCghdCB8fCB0KHcpKSAmJiAobi5wcmV2ZW50RGVmYXVsdCgpLCBuLnN0b3BQcm9wYWdhdGlvbigpLCBuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSwgZiA9PSBudWxsIHx8IGYobikpO1xuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgaSwgITApLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGksICEwKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBpLCAhMCksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGksICEwKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImNsaWNrXCIsXG4gICAgKG4pID0+IHtcbiAgICAgIGkobiwgbyk7XG4gICAgfSxcbiAgICAhMFxuICApO1xufVxuZnVuY3Rpb24ga2UoKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgbmUsICExKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIFBlLCAhMSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIE0pLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBNKTtcbn1cbmZ1bmN0aW9uIF9lKCkge1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIG5lKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgTSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIE0pO1xufVxuZnVuY3Rpb24gU2UoKSB7XG4gIGNvbnN0IGUgPSBsKFwicG9wb3ZlclwiKTtcbiAgZSAmJiAoZS53cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIik7XG59XG5mdW5jdGlvbiBRKGUsIG8pIHtcbiAgdmFyIGIsIFA7XG4gIGxldCB0ID0gbChcInBvcG92ZXJcIik7XG4gIHQgJiYgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0LndyYXBwZXIpLCB0ID0gTGUoKSwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0LndyYXBwZXIpO1xuICBjb25zdCB7XG4gICAgdGl0bGU6IGksXG4gICAgZGVzY3JpcHRpb246IGQsXG4gICAgc2hvd0J1dHRvbnM6IG4sXG4gICAgZGlzYWJsZUJ1dHRvbnM6IGYsXG4gICAgc2hvd1Byb2dyZXNzOiB3LFxuICAgIG5leHRCdG5UZXh0OiByID0gcyhcIm5leHRCdG5UZXh0XCIpIHx8IFwiTmV4dCAmcmFycjtcIixcbiAgICBwcmV2QnRuVGV4dDogdiA9IHMoXCJwcmV2QnRuVGV4dFwiKSB8fCBcIiZsYXJyOyBQcmV2aW91c1wiLFxuICAgIHByb2dyZXNzVGV4dDogZyA9IHMoXCJwcm9ncmVzc1RleHRcIikgfHwgXCJ7Y3VycmVudH0gb2Yge3RvdGFsfVwiXG4gIH0gPSBvLnBvcG92ZXIgfHwge307XG4gIHQubmV4dEJ1dHRvbi5pbm5lckhUTUwgPSByLCB0LnByZXZpb3VzQnV0dG9uLmlubmVySFRNTCA9IHYsIHQucHJvZ3Jlc3MuaW5uZXJIVE1MID0gZywgaSA/ICh0LnRpdGxlLmlubmVySFRNTCA9IGksIHQudGl0bGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIikgOiB0LnRpdGxlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIiwgZCA/ICh0LmRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGQsIHQuZGVzY3JpcHRpb24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIikgOiB0LmRlc2NyaXB0aW9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgY29uc3QgeSA9IG4gfHwgcyhcInNob3dCdXR0b25zXCIpLCBhID0gdyB8fCBzKFwic2hvd1Byb2dyZXNzXCIpIHx8ICExLCBwID0gKHkgPT0gbnVsbCA/IHZvaWQgMCA6IHkuaW5jbHVkZXMoXCJuZXh0XCIpKSB8fCAoeSA9PSBudWxsID8gdm9pZCAwIDogeS5pbmNsdWRlcyhcInByZXZpb3VzXCIpKSB8fCBhO1xuICB0LmNsb3NlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSB5LmluY2x1ZGVzKFwiY2xvc2VcIikgPyBcImJsb2NrXCIgOiBcIm5vbmVcIiwgcCA/ICh0LmZvb3Rlci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCIsIHQucHJvZ3Jlc3Muc3R5bGUuZGlzcGxheSA9IGEgPyBcImJsb2NrXCIgOiBcIm5vbmVcIiwgdC5uZXh0QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSB5LmluY2x1ZGVzKFwibmV4dFwiKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiLCB0LnByZXZpb3VzQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSB5LmluY2x1ZGVzKFwicHJldmlvdXNcIikgPyBcImJsb2NrXCIgOiBcIm5vbmVcIikgOiB0LmZvb3Rlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGNvbnN0IGMgPSBmIHx8IHMoXCJkaXNhYmxlQnV0dG9uc1wiKSB8fCBbXTtcbiAgYyAhPSBudWxsICYmIGMuaW5jbHVkZXMoXCJuZXh0XCIpICYmICh0Lm5leHRCdXR0b24uZGlzYWJsZWQgPSAhMCwgdC5uZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkcml2ZXItcG9wb3Zlci1idG4tZGlzYWJsZWRcIikpLCBjICE9IG51bGwgJiYgYy5pbmNsdWRlcyhcInByZXZpb3VzXCIpICYmICh0LnByZXZpb3VzQnV0dG9uLmRpc2FibGVkID0gITAsIHQucHJldmlvdXNCdXR0b24uY2xhc3NMaXN0LmFkZChcImRyaXZlci1wb3BvdmVyLWJ0bi1kaXNhYmxlZFwiKSksIGMgIT0gbnVsbCAmJiBjLmluY2x1ZGVzKFwiY2xvc2VcIikgJiYgKHQuY2xvc2VCdXR0b24uZGlzYWJsZWQgPSAhMCwgdC5jbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLXBvcG92ZXItYnRuLWRpc2FibGVkXCIpKTtcbiAgY29uc3QgdSA9IHQud3JhcHBlcjtcbiAgdS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiLCB1LnN0eWxlLmxlZnQgPSBcIlwiLCB1LnN0eWxlLnRvcCA9IFwiXCIsIHUuc3R5bGUuYm90dG9tID0gXCJcIiwgdS5zdHlsZS5yaWdodCA9IFwiXCIsIHUuaWQgPSBcImRyaXZlci1wb3BvdmVyLWNvbnRlbnRcIiwgdS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZGlhbG9nXCIpLCB1LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCBcImRyaXZlci1wb3BvdmVyLXRpdGxlXCIpLCB1LnNldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIiwgXCJkcml2ZXItcG9wb3Zlci1kZXNjcmlwdGlvblwiKTtcbiAgY29uc3QgaCA9IHQuYXJyb3c7XG4gIGguY2xhc3NOYW1lID0gXCJkcml2ZXItcG9wb3Zlci1hcnJvd1wiO1xuICBjb25zdCBtID0gKChiID0gby5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogYi5wb3BvdmVyQ2xhc3MpIHx8IHMoXCJwb3BvdmVyQ2xhc3NcIikgfHwgXCJcIjtcbiAgdS5jbGFzc05hbWUgPSBgZHJpdmVyLXBvcG92ZXIgJHttfWAudHJpbSgpLCByZShcbiAgICB0LndyYXBwZXIsXG4gICAgKEUpID0+IHtcbiAgICAgIHZhciBCLCBSLCBXO1xuICAgICAgY29uc3QgVCA9IEUudGFyZ2V0LCBBID0gKChCID0gby5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogQi5vbk5leHRDbGljaykgfHwgcyhcIm9uTmV4dENsaWNrXCIpLCBIID0gKChSID0gby5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogUi5vblByZXZDbGljaykgfHwgcyhcIm9uUHJldkNsaWNrXCIpLCAkID0gKChXID0gby5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogVy5vbkNsb3NlQ2xpY2spIHx8IHMoXCJvbkNsb3NlQ2xpY2tcIik7XG4gICAgICBpZiAoVC5jbG9zZXN0KFwiLmRyaXZlci1wb3BvdmVyLW5leHQtYnRuXCIpKVxuICAgICAgICByZXR1cm4gQSA/IEEoZSwgbywge1xuICAgICAgICAgIGNvbmZpZzogcygpLFxuICAgICAgICAgIHN0YXRlOiBsKCksXG4gICAgICAgICAgZHJpdmVyOiBfKClcbiAgICAgICAgfSkgOiBMKFwibmV4dENsaWNrXCIpO1xuICAgICAgaWYgKFQuY2xvc2VzdChcIi5kcml2ZXItcG9wb3Zlci1wcmV2LWJ0blwiKSlcbiAgICAgICAgcmV0dXJuIEggPyBIKGUsIG8sIHtcbiAgICAgICAgICBjb25maWc6IHMoKSxcbiAgICAgICAgICBzdGF0ZTogbCgpLFxuICAgICAgICAgIGRyaXZlcjogXygpXG4gICAgICAgIH0pIDogTChcInByZXZDbGlja1wiKTtcbiAgICAgIGlmIChULmNsb3Nlc3QoXCIuZHJpdmVyLXBvcG92ZXItY2xvc2UtYnRuXCIpKVxuICAgICAgICByZXR1cm4gJCA/ICQoZSwgbywge1xuICAgICAgICAgIGNvbmZpZzogcygpLFxuICAgICAgICAgIHN0YXRlOiBsKCksXG4gICAgICAgICAgZHJpdmVyOiBfKClcbiAgICAgICAgfSkgOiBMKFwiY2xvc2VDbGlja1wiKTtcbiAgICB9LFxuICAgIChFKSA9PiAhKHQgIT0gbnVsbCAmJiB0LmRlc2NyaXB0aW9uLmNvbnRhaW5zKEUpKSAmJiAhKHQgIT0gbnVsbCAmJiB0LnRpdGxlLmNvbnRhaW5zKEUpKSAmJiB0eXBlb2YgRS5jbGFzc05hbWUgPT0gXCJzdHJpbmdcIiAmJiBFLmNsYXNzTmFtZS5pbmNsdWRlcyhcImRyaXZlci1wb3BvdmVyXCIpXG4gICksIGsoXCJwb3BvdmVyXCIsIHQpO1xuICBjb25zdCB4ID0gKChQID0gby5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogUC5vblBvcG92ZXJSZW5kZXIpIHx8IHMoXCJvblBvcG92ZXJSZW5kZXJcIik7XG4gIHggJiYgeCh0LCB7XG4gICAgY29uZmlnOiBzKCksXG4gICAgc3RhdGU6IGwoKSxcbiAgICBkcml2ZXI6IF8oKVxuICB9KSwgYWUoZSwgbyksIGVlKHUpO1xuICBjb25zdCBDID0gZS5jbGFzc0xpc3QuY29udGFpbnMoXCJkcml2ZXItZHVtbXktZWxlbWVudFwiKSwgUyA9IFUoW3UsIC4uLkMgPyBbXSA6IFtlXV0pO1xuICBTLmxlbmd0aCA+IDAgJiYgU1swXS5mb2N1cygpO1xufVxuZnVuY3Rpb24gc2UoKSB7XG4gIGNvbnN0IGUgPSBsKFwicG9wb3ZlclwiKTtcbiAgaWYgKCEoZSAhPSBudWxsICYmIGUud3JhcHBlcikpXG4gICAgcmV0dXJuO1xuICBjb25zdCBvID0gZS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0ID0gcyhcInN0YWdlUGFkZGluZ1wiKSB8fCAwLCBpID0gcyhcInBvcG92ZXJPZmZzZXRcIikgfHwgMDtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogby53aWR0aCArIHQgKyBpLFxuICAgIGhlaWdodDogby5oZWlnaHQgKyB0ICsgaSxcbiAgICByZWFsV2lkdGg6IG8ud2lkdGgsXG4gICAgcmVhbEhlaWdodDogby5oZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIFooZSwgbykge1xuICBjb25zdCB7IGVsZW1lbnREaW1lbnNpb25zOiB0LCBwb3BvdmVyRGltZW5zaW9uczogaSwgcG9wb3ZlclBhZGRpbmc6IGQsIHBvcG92ZXJBcnJvd0RpbWVuc2lvbnM6IG4gfSA9IG87XG4gIHJldHVybiBlID09PSBcInN0YXJ0XCIgPyBNYXRoLm1heChcbiAgICBNYXRoLm1pbihcbiAgICAgIHQudG9wIC0gZCxcbiAgICAgIHdpbmRvdy5pbm5lckhlaWdodCAtIGkucmVhbEhlaWdodCAtIG4ud2lkdGhcbiAgICApLFxuICAgIG4ud2lkdGhcbiAgKSA6IGUgPT09IFwiZW5kXCIgPyBNYXRoLm1heChcbiAgICBNYXRoLm1pbihcbiAgICAgIHQudG9wIC0gKGkgPT0gbnVsbCA/IHZvaWQgMCA6IGkucmVhbEhlaWdodCkgKyB0LmhlaWdodCArIGQsXG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLSAoaSA9PSBudWxsID8gdm9pZCAwIDogaS5yZWFsSGVpZ2h0KSAtIG4ud2lkdGhcbiAgICApLFxuICAgIG4ud2lkdGhcbiAgKSA6IGUgPT09IFwiY2VudGVyXCIgPyBNYXRoLm1heChcbiAgICBNYXRoLm1pbihcbiAgICAgIHQudG9wICsgdC5oZWlnaHQgLyAyIC0gKGkgPT0gbnVsbCA/IHZvaWQgMCA6IGkucmVhbEhlaWdodCkgLyAyLFxuICAgICAgd2luZG93LmlubmVySGVpZ2h0IC0gKGkgPT0gbnVsbCA/IHZvaWQgMCA6IGkucmVhbEhlaWdodCkgLSBuLndpZHRoXG4gICAgKSxcbiAgICBuLndpZHRoXG4gICkgOiAwO1xufVxuZnVuY3Rpb24gRyhlLCBvKSB7XG4gIGNvbnN0IHsgZWxlbWVudERpbWVuc2lvbnM6IHQsIHBvcG92ZXJEaW1lbnNpb25zOiBpLCBwb3BvdmVyUGFkZGluZzogZCwgcG9wb3ZlckFycm93RGltZW5zaW9uczogbiB9ID0gbztcbiAgcmV0dXJuIGUgPT09IFwic3RhcnRcIiA/IE1hdGgubWF4KFxuICAgIE1hdGgubWluKFxuICAgICAgdC5sZWZ0IC0gZCxcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoIC0gaS5yZWFsV2lkdGggLSBuLndpZHRoXG4gICAgKSxcbiAgICBuLndpZHRoXG4gICkgOiBlID09PSBcImVuZFwiID8gTWF0aC5tYXgoXG4gICAgTWF0aC5taW4oXG4gICAgICB0LmxlZnQgLSAoaSA9PSBudWxsID8gdm9pZCAwIDogaS5yZWFsV2lkdGgpICsgdC53aWR0aCArIGQsXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCAtIChpID09IG51bGwgPyB2b2lkIDAgOiBpLnJlYWxXaWR0aCkgLSBuLndpZHRoXG4gICAgKSxcbiAgICBuLndpZHRoXG4gICkgOiBlID09PSBcImNlbnRlclwiID8gTWF0aC5tYXgoXG4gICAgTWF0aC5taW4oXG4gICAgICB0LmxlZnQgKyB0LndpZHRoIC8gMiAtIChpID09IG51bGwgPyB2b2lkIDAgOiBpLnJlYWxXaWR0aCkgLyAyLFxuICAgICAgd2luZG93LmlubmVyV2lkdGggLSAoaSA9PSBudWxsID8gdm9pZCAwIDogaS5yZWFsV2lkdGgpIC0gbi53aWR0aFxuICAgICksXG4gICAgbi53aWR0aFxuICApIDogMDtcbn1cbmZ1bmN0aW9uIGFlKGUsIG8pIHtcbiAgY29uc3QgdCA9IGwoXCJwb3BvdmVyXCIpO1xuICBpZiAoIXQpXG4gICAgcmV0dXJuO1xuICBjb25zdCB7IGFsaWduOiBpID0gXCJzdGFydFwiLCBzaWRlOiBkID0gXCJsZWZ0XCIgfSA9IChvID09IG51bGwgPyB2b2lkIDAgOiBvLnBvcG92ZXIpIHx8IHt9LCBuID0gaSwgZiA9IGUuaWQgPT09IFwiZHJpdmVyLWR1bW15LWVsZW1lbnRcIiA/IFwib3ZlclwiIDogZCwgdyA9IHMoXCJzdGFnZVBhZGRpbmdcIikgfHwgMCwgciA9IHNlKCksIHYgPSB0LmFycm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBnID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgeSA9IGcudG9wIC0gci5oZWlnaHQ7XG4gIGxldCBhID0geSA+PSAwO1xuICBjb25zdCBwID0gd2luZG93LmlubmVySGVpZ2h0IC0gKGcuYm90dG9tICsgci5oZWlnaHQpO1xuICBsZXQgYyA9IHAgPj0gMDtcbiAgY29uc3QgdSA9IGcubGVmdCAtIHIud2lkdGg7XG4gIGxldCBoID0gdSA+PSAwO1xuICBjb25zdCBtID0gd2luZG93LmlubmVyV2lkdGggLSAoZy5yaWdodCArIHIud2lkdGgpO1xuICBsZXQgeCA9IG0gPj0gMDtcbiAgY29uc3QgQyA9ICFhICYmICFjICYmICFoICYmICF4O1xuICBsZXQgUyA9IGY7XG4gIGlmIChmID09PSBcInRvcFwiICYmIGEgPyB4ID0gaCA9IGMgPSAhMSA6IGYgPT09IFwiYm90dG9tXCIgJiYgYyA/IHggPSBoID0gYSA9ICExIDogZiA9PT0gXCJsZWZ0XCIgJiYgaCA/IHggPSBhID0gYyA9ICExIDogZiA9PT0gXCJyaWdodFwiICYmIHggJiYgKGggPSBhID0gYyA9ICExKSwgZiA9PT0gXCJvdmVyXCIpIHtcbiAgICBjb25zdCBiID0gd2luZG93LmlubmVyV2lkdGggLyAyIC0gci5yZWFsV2lkdGggLyAyLCBQID0gd2luZG93LmlubmVySGVpZ2h0IC8gMiAtIHIucmVhbEhlaWdodCAvIDI7XG4gICAgdC53cmFwcGVyLnN0eWxlLmxlZnQgPSBgJHtifXB4YCwgdC53cmFwcGVyLnN0eWxlLnJpZ2h0ID0gXCJhdXRvXCIsIHQud3JhcHBlci5zdHlsZS50b3AgPSBgJHtQfXB4YCwgdC53cmFwcGVyLnN0eWxlLmJvdHRvbSA9IFwiYXV0b1wiO1xuICB9IGVsc2UgaWYgKEMpIHtcbiAgICBjb25zdCBiID0gd2luZG93LmlubmVyV2lkdGggLyAyIC0gKHIgPT0gbnVsbCA/IHZvaWQgMCA6IHIucmVhbFdpZHRoKSAvIDIsIFAgPSAxMDtcbiAgICB0LndyYXBwZXIuc3R5bGUubGVmdCA9IGAke2J9cHhgLCB0LndyYXBwZXIuc3R5bGUucmlnaHQgPSBcImF1dG9cIiwgdC53cmFwcGVyLnN0eWxlLmJvdHRvbSA9IGAke1B9cHhgLCB0LndyYXBwZXIuc3R5bGUudG9wID0gXCJhdXRvXCI7XG4gIH0gZWxzZSBpZiAoaCkge1xuICAgIGNvbnN0IGIgPSBNYXRoLm1pbihcbiAgICAgIHUsXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCAtIChyID09IG51bGwgPyB2b2lkIDAgOiByLnJlYWxXaWR0aCkgLSB2LndpZHRoXG4gICAgKSwgUCA9IFoobiwge1xuICAgICAgZWxlbWVudERpbWVuc2lvbnM6IGcsXG4gICAgICBwb3BvdmVyRGltZW5zaW9uczogcixcbiAgICAgIHBvcG92ZXJQYWRkaW5nOiB3LFxuICAgICAgcG9wb3ZlckFycm93RGltZW5zaW9uczogdlxuICAgIH0pO1xuICAgIHQud3JhcHBlci5zdHlsZS5sZWZ0ID0gYCR7Yn1weGAsIHQud3JhcHBlci5zdHlsZS50b3AgPSBgJHtQfXB4YCwgdC53cmFwcGVyLnN0eWxlLmJvdHRvbSA9IFwiYXV0b1wiLCB0LndyYXBwZXIuc3R5bGUucmlnaHQgPSBcImF1dG9cIiwgUyA9IFwibGVmdFwiO1xuICB9IGVsc2UgaWYgKHgpIHtcbiAgICBjb25zdCBiID0gTWF0aC5taW4oXG4gICAgICBtLFxuICAgICAgd2luZG93LmlubmVyV2lkdGggLSAociA9PSBudWxsID8gdm9pZCAwIDogci5yZWFsV2lkdGgpIC0gdi53aWR0aFxuICAgICksIFAgPSBaKG4sIHtcbiAgICAgIGVsZW1lbnREaW1lbnNpb25zOiBnLFxuICAgICAgcG9wb3ZlckRpbWVuc2lvbnM6IHIsXG4gICAgICBwb3BvdmVyUGFkZGluZzogdyxcbiAgICAgIHBvcG92ZXJBcnJvd0RpbWVuc2lvbnM6IHZcbiAgICB9KTtcbiAgICB0LndyYXBwZXIuc3R5bGUucmlnaHQgPSBgJHtifXB4YCwgdC53cmFwcGVyLnN0eWxlLnRvcCA9IGAke1B9cHhgLCB0LndyYXBwZXIuc3R5bGUuYm90dG9tID0gXCJhdXRvXCIsIHQud3JhcHBlci5zdHlsZS5sZWZ0ID0gXCJhdXRvXCIsIFMgPSBcInJpZ2h0XCI7XG4gIH0gZWxzZSBpZiAoYSkge1xuICAgIGNvbnN0IGIgPSBNYXRoLm1pbihcbiAgICAgIHksXG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLSByLnJlYWxIZWlnaHQgLSB2LndpZHRoXG4gICAgKTtcbiAgICBsZXQgUCA9IEcobiwge1xuICAgICAgZWxlbWVudERpbWVuc2lvbnM6IGcsXG4gICAgICBwb3BvdmVyRGltZW5zaW9uczogcixcbiAgICAgIHBvcG92ZXJQYWRkaW5nOiB3LFxuICAgICAgcG9wb3ZlckFycm93RGltZW5zaW9uczogdlxuICAgIH0pO1xuICAgIHQud3JhcHBlci5zdHlsZS50b3AgPSBgJHtifXB4YCwgdC53cmFwcGVyLnN0eWxlLmxlZnQgPSBgJHtQfXB4YCwgdC53cmFwcGVyLnN0eWxlLmJvdHRvbSA9IFwiYXV0b1wiLCB0LndyYXBwZXIuc3R5bGUucmlnaHQgPSBcImF1dG9cIiwgUyA9IFwidG9wXCI7XG4gIH0gZWxzZSBpZiAoYykge1xuICAgIGNvbnN0IGIgPSBNYXRoLm1pbihcbiAgICAgIHAsXG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLSAociA9PSBudWxsID8gdm9pZCAwIDogci5yZWFsSGVpZ2h0KSAtIHYud2lkdGhcbiAgICApO1xuICAgIGxldCBQID0gRyhuLCB7XG4gICAgICBlbGVtZW50RGltZW5zaW9uczogZyxcbiAgICAgIHBvcG92ZXJEaW1lbnNpb25zOiByLFxuICAgICAgcG9wb3ZlclBhZGRpbmc6IHcsXG4gICAgICBwb3BvdmVyQXJyb3dEaW1lbnNpb25zOiB2XG4gICAgfSk7XG4gICAgdC53cmFwcGVyLnN0eWxlLmxlZnQgPSBgJHtQfXB4YCwgdC53cmFwcGVyLnN0eWxlLmJvdHRvbSA9IGAke2J9cHhgLCB0LndyYXBwZXIuc3R5bGUudG9wID0gXCJhdXRvXCIsIHQud3JhcHBlci5zdHlsZS5yaWdodCA9IFwiYXV0b1wiLCBTID0gXCJib3R0b21cIjtcbiAgfVxuICBDID8gdC5hcnJvdy5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLXBvcG92ZXItYXJyb3ctbm9uZVwiKSA6IEVlKG4sIFMsIGUpO1xufVxuZnVuY3Rpb24gRWUoZSwgbywgdCkge1xuICBjb25zdCBpID0gbChcInBvcG92ZXJcIik7XG4gIGlmICghaSlcbiAgICByZXR1cm47XG4gIGNvbnN0IGQgPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBuID0gc2UoKSwgZiA9IGkuYXJyb3csIHcgPSBuLndpZHRoLCByID0gd2luZG93LmlubmVyV2lkdGgsIHYgPSBkLndpZHRoLCBnID0gZC5sZWZ0LCB5ID0gbi5oZWlnaHQsIGEgPSB3aW5kb3cuaW5uZXJIZWlnaHQsIHAgPSBkLnRvcCwgYyA9IGQuaGVpZ2h0O1xuICBmLmNsYXNzTmFtZSA9IFwiZHJpdmVyLXBvcG92ZXItYXJyb3dcIjtcbiAgbGV0IHUgPSBvLCBoID0gZTtcbiAgaWYgKG8gPT09IFwidG9wXCIgPyAoZyArIHYgPD0gMCA/ICh1ID0gXCJyaWdodFwiLCBoID0gXCJlbmRcIikgOiBnICsgdiAtIHcgPD0gMCAmJiAodSA9IFwidG9wXCIsIGggPSBcInN0YXJ0XCIpLCBnID49IHIgPyAodSA9IFwibGVmdFwiLCBoID0gXCJlbmRcIikgOiBnICsgdyA+PSByICYmICh1ID0gXCJ0b3BcIiwgaCA9IFwiZW5kXCIpKSA6IG8gPT09IFwiYm90dG9tXCIgPyAoZyArIHYgPD0gMCA/ICh1ID0gXCJyaWdodFwiLCBoID0gXCJzdGFydFwiKSA6IGcgKyB2IC0gdyA8PSAwICYmICh1ID0gXCJib3R0b21cIiwgaCA9IFwic3RhcnRcIiksIGcgPj0gciA/ICh1ID0gXCJsZWZ0XCIsIGggPSBcInN0YXJ0XCIpIDogZyArIHcgPj0gciAmJiAodSA9IFwiYm90dG9tXCIsIGggPSBcImVuZFwiKSkgOiBvID09PSBcImxlZnRcIiA/IChwICsgYyA8PSAwID8gKHUgPSBcImJvdHRvbVwiLCBoID0gXCJlbmRcIikgOiBwICsgYyAtIHkgPD0gMCAmJiAodSA9IFwibGVmdFwiLCBoID0gXCJzdGFydFwiKSwgcCA+PSBhID8gKHUgPSBcInRvcFwiLCBoID0gXCJlbmRcIikgOiBwICsgeSA+PSBhICYmICh1ID0gXCJsZWZ0XCIsIGggPSBcImVuZFwiKSkgOiBvID09PSBcInJpZ2h0XCIgJiYgKHAgKyBjIDw9IDAgPyAodSA9IFwiYm90dG9tXCIsIGggPSBcInN0YXJ0XCIpIDogcCArIGMgLSB5IDw9IDAgJiYgKHUgPSBcInJpZ2h0XCIsIGggPSBcInN0YXJ0XCIpLCBwID49IGEgPyAodSA9IFwidG9wXCIsIGggPSBcInN0YXJ0XCIpIDogcCArIHkgPj0gYSAmJiAodSA9IFwicmlnaHRcIiwgaCA9IFwiZW5kXCIpKSwgIXUpXG4gICAgZi5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLXBvcG92ZXItYXJyb3ctbm9uZVwiKTtcbiAgZWxzZSB7XG4gICAgZi5jbGFzc0xpc3QuYWRkKGBkcml2ZXItcG9wb3Zlci1hcnJvdy1zaWRlLSR7dX1gKSwgZi5jbGFzc0xpc3QuYWRkKGBkcml2ZXItcG9wb3Zlci1hcnJvdy1hbGlnbi0ke2h9YCk7XG4gICAgY29uc3QgbSA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHggPSBmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBDID0gcyhcInN0YWdlUGFkZGluZ1wiKSB8fCAwLCBTID0gbS5sZWZ0IC0gQyA8IHdpbmRvdy5pbm5lcldpZHRoICYmIG0ucmlnaHQgKyBDID4gMCAmJiBtLnRvcCAtIEMgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgbS5ib3R0b20gKyBDID4gMDtcbiAgICBvID09PSBcImJvdHRvbVwiICYmIFMgJiYgKHgueCA+IG0ueCAmJiB4LnggKyB4LndpZHRoIDwgbS54ICsgbS53aWR0aCA/IGkud3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMClcIiA6IChmLmNsYXNzTGlzdC5yZW1vdmUoYGRyaXZlci1wb3BvdmVyLWFycm93LWFsaWduLSR7aH1gKSwgZi5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLXBvcG92ZXItYXJyb3ctbm9uZVwiKSwgaS53cmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKC0ke0MgLyAyfXB4KWApKTtcbiAgfVxufVxuZnVuY3Rpb24gTGUoKSB7XG4gIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBlLmNsYXNzTGlzdC5hZGQoXCJkcml2ZXItcG9wb3ZlclwiKTtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG8uY2xhc3NMaXN0LmFkZChcImRyaXZlci1wb3BvdmVyLWFycm93XCIpO1xuICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhlYWRlclwiKTtcbiAgdC5pZCA9IFwiZHJpdmVyLXBvcG92ZXItdGl0bGVcIiwgdC5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLXBvcG92ZXItdGl0bGVcIiksIHQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiLCB0LmlubmVyVGV4dCA9IFwiUG9wb3ZlciBUaXRsZVwiO1xuICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgaS5pZCA9IFwiZHJpdmVyLXBvcG92ZXItZGVzY3JpcHRpb25cIiwgaS5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLXBvcG92ZXItZGVzY3JpcHRpb25cIiksIGkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiLCBpLmlubmVyVGV4dCA9IFwiUG9wb3ZlciBkZXNjcmlwdGlvbiBpcyBoZXJlXCI7XG4gIGNvbnN0IGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBkLnR5cGUgPSBcImJ1dHRvblwiLCBkLmNsYXNzTGlzdC5hZGQoXCJkcml2ZXItcG9wb3Zlci1jbG9zZS1idG5cIiksIGQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkNsb3NlXCIpLCBkLmlubmVySFRNTCA9IFwiJnRpbWVzO1wiO1xuICBjb25zdCBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvb3RlclwiKTtcbiAgbi5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLXBvcG92ZXItZm9vdGVyXCIpO1xuICBjb25zdCBmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGYuY2xhc3NMaXN0LmFkZChcImRyaXZlci1wb3BvdmVyLXByb2dyZXNzLXRleHRcIiksIGYuaW5uZXJUZXh0ID0gXCJcIjtcbiAgY29uc3QgdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICB3LmNsYXNzTGlzdC5hZGQoXCJkcml2ZXItcG9wb3Zlci1uYXZpZ2F0aW9uLWJ0bnNcIik7XG4gIGNvbnN0IHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICByLnR5cGUgPSBcImJ1dHRvblwiLCByLmNsYXNzTGlzdC5hZGQoXCJkcml2ZXItcG9wb3Zlci1wcmV2LWJ0blwiKSwgci5pbm5lckhUTUwgPSBcIiZsYXJyOyBQcmV2aW91c1wiO1xuICBjb25zdCB2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgcmV0dXJuIHYudHlwZSA9IFwiYnV0dG9uXCIsIHYuY2xhc3NMaXN0LmFkZChcImRyaXZlci1wb3BvdmVyLW5leHQtYnRuXCIpLCB2LmlubmVySFRNTCA9IFwiTmV4dCAmcmFycjtcIiwgdy5hcHBlbmRDaGlsZChyKSwgdy5hcHBlbmRDaGlsZCh2KSwgbi5hcHBlbmRDaGlsZChmKSwgbi5hcHBlbmRDaGlsZCh3KSwgZS5hcHBlbmRDaGlsZChkKSwgZS5hcHBlbmRDaGlsZChvKSwgZS5hcHBlbmRDaGlsZCh0KSwgZS5hcHBlbmRDaGlsZChpKSwgZS5hcHBlbmRDaGlsZChuKSwge1xuICAgIHdyYXBwZXI6IGUsXG4gICAgYXJyb3c6IG8sXG4gICAgdGl0bGU6IHQsXG4gICAgZGVzY3JpcHRpb246IGksXG4gICAgZm9vdGVyOiBuLFxuICAgIHByZXZpb3VzQnV0dG9uOiByLFxuICAgIG5leHRCdXR0b246IHYsXG4gICAgY2xvc2VCdXR0b246IGQsXG4gICAgZm9vdGVyQnV0dG9uczogdyxcbiAgICBwcm9ncmVzczogZlxuICB9O1xufVxuZnVuY3Rpb24gVGUoKSB7XG4gIHZhciBvO1xuICBjb25zdCBlID0gbChcInBvcG92ZXJcIik7XG4gIGUgJiYgKChvID0gZS53cmFwcGVyLnBhcmVudEVsZW1lbnQpID09IG51bGwgfHwgby5yZW1vdmVDaGlsZChlLndyYXBwZXIpKTtcbn1cbmZ1bmN0aW9uIEFlKGUgPSB7fSkge1xuICBGKGUpO1xuICBmdW5jdGlvbiBvKCkge1xuICAgIHMoXCJhbGxvd0Nsb3NlXCIpICYmIGcoKTtcbiAgfVxuICBmdW5jdGlvbiB0KCkge1xuICAgIGNvbnN0IGEgPSBzKFwib3ZlcmxheUNsaWNrQmVoYXZpb3JcIik7XG4gICAgaWYgKHMoXCJhbGxvd0Nsb3NlXCIpICYmIGEgPT09IFwiY2xvc2VcIikge1xuICAgICAgZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjb25zdCBwID0gbChcIl9fYWN0aXZlU3RlcFwiKSwgYyA9IGwoXCJfX2FjdGl2ZUVsZW1lbnRcIik7XG4gICAgICBhKGMsIHAsIHtcbiAgICAgICAgY29uZmlnOiBzKCksXG4gICAgICAgIHN0YXRlOiBsKCksXG4gICAgICAgIGRyaXZlcjogXygpXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYSA9PT0gXCJuZXh0U3RlcFwiICYmIGkoKTtcbiAgfVxuICBmdW5jdGlvbiBpKCkge1xuICAgIGNvbnN0IGEgPSBsKFwiYWN0aXZlSW5kZXhcIiksIHAgPSBzKFwic3RlcHNcIikgfHwgW107XG4gICAgaWYgKHR5cGVvZiBhID09IFwidW5kZWZpbmVkXCIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYyA9IGEgKyAxO1xuICAgIHBbY10gPyB2KGMpIDogZygpO1xuICB9XG4gIGZ1bmN0aW9uIGQoKSB7XG4gICAgY29uc3QgYSA9IGwoXCJhY3RpdmVJbmRleFwiKSwgcCA9IHMoXCJzdGVwc1wiKSB8fCBbXTtcbiAgICBpZiAodHlwZW9mIGEgPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBjID0gYSAtIDE7XG4gICAgcFtjXSA/IHYoYykgOiBnKCk7XG4gIH1cbiAgZnVuY3Rpb24gbihhKSB7XG4gICAgKHMoXCJzdGVwc1wiKSB8fCBbXSlbYV0gPyB2KGEpIDogZygpO1xuICB9XG4gIGZ1bmN0aW9uIGYoKSB7XG4gICAgdmFyIHg7XG4gICAgaWYgKGwoXCJfX3RyYW5zaXRpb25DYWxsYmFja1wiKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBwID0gbChcImFjdGl2ZUluZGV4XCIpLCBjID0gbChcIl9fYWN0aXZlU3RlcFwiKSwgdSA9IGwoXCJfX2FjdGl2ZUVsZW1lbnRcIik7XG4gICAgaWYgKHR5cGVvZiBwID09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIGMgPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbChcImFjdGl2ZUluZGV4XCIpID09IFwidW5kZWZpbmVkXCIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbSA9ICgoeCA9IGMucG9wb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IHgub25QcmV2Q2xpY2spIHx8IHMoXCJvblByZXZDbGlja1wiKTtcbiAgICBpZiAobSlcbiAgICAgIHJldHVybiBtKHUsIGMsIHtcbiAgICAgICAgY29uZmlnOiBzKCksXG4gICAgICAgIHN0YXRlOiBsKCksXG4gICAgICAgIGRyaXZlcjogXygpXG4gICAgICB9KTtcbiAgICBkKCk7XG4gIH1cbiAgZnVuY3Rpb24gdygpIHtcbiAgICB2YXIgbTtcbiAgICBpZiAobChcIl9fdHJhbnNpdGlvbkNhbGxiYWNrXCIpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHAgPSBsKFwiYWN0aXZlSW5kZXhcIiksIGMgPSBsKFwiX19hY3RpdmVTdGVwXCIpLCB1ID0gbChcIl9fYWN0aXZlRWxlbWVudFwiKTtcbiAgICBpZiAodHlwZW9mIHAgPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgYyA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGggPSAoKG0gPSBjLnBvcG92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBtLm9uTmV4dENsaWNrKSB8fCBzKFwib25OZXh0Q2xpY2tcIik7XG4gICAgaWYgKGgpXG4gICAgICByZXR1cm4gaCh1LCBjLCB7XG4gICAgICAgIGNvbmZpZzogcygpLFxuICAgICAgICBzdGF0ZTogbCgpLFxuICAgICAgICBkcml2ZXI6IF8oKVxuICAgICAgfSk7XG4gICAgaSgpO1xuICB9XG4gIGZ1bmN0aW9uIHIoKSB7XG4gICAgbChcImlzSW5pdGlhbGl6ZWRcIikgfHwgKGsoXCJpc0luaXRpYWxpemVkXCIsICEwKSwgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiZHJpdmVyLWFjdGl2ZVwiLCBzKFwiYW5pbWF0ZVwiKSA/IFwiZHJpdmVyLWZhZGVcIiA6IFwiZHJpdmVyLXNpbXBsZVwiKSwga2UoKSwgTihcIm92ZXJsYXlDbGlja1wiLCB0KSwgTihcImVzY2FwZVByZXNzXCIsIG8pLCBOKFwiYXJyb3dMZWZ0UHJlc3NcIiwgZiksIE4oXCJhcnJvd1JpZ2h0UHJlc3NcIiwgdykpO1xuICB9XG4gIGZ1bmN0aW9uIHYoYSA9IDApIHtcbiAgICB2YXIgJCwgQiwgUiwgVywgViwgcSwgSywgWTtcbiAgICBjb25zdCBwID0gcyhcInN0ZXBzXCIpO1xuICAgIGlmICghcCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk5vIHN0ZXBzIHRvIGRyaXZlIHRocm91Z2hcIiksIGcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwW2FdKSB7XG4gICAgICBnKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGsoXCJfX2FjdGl2ZU9uRGVzdHJveWVkXCIsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLCBrKFwiYWN0aXZlSW5kZXhcIiwgYSk7XG4gICAgY29uc3QgYyA9IHBbYV0sIHUgPSBwW2EgKyAxXSwgaCA9IHBbYSAtIDFdLCBtID0gKCgkID0gYy5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogJC5kb25lQnRuVGV4dCkgfHwgcyhcImRvbmVCdG5UZXh0XCIpIHx8IFwiRG9uZVwiLCB4ID0gcyhcImFsbG93Q2xvc2VcIiksIEMgPSB0eXBlb2YgKChCID0gYy5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogQi5zaG93UHJvZ3Jlc3MpICE9IFwidW5kZWZpbmVkXCIgPyAoUiA9IGMucG9wb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IFIuc2hvd1Byb2dyZXNzIDogcyhcInNob3dQcm9ncmVzc1wiKSwgYiA9ICgoKFcgPSBjLnBvcG92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBXLnByb2dyZXNzVGV4dCkgfHwgcyhcInByb2dyZXNzVGV4dFwiKSB8fCBcInt7Y3VycmVudH19IG9mIHt7dG90YWx9fVwiKS5yZXBsYWNlKFwie3tjdXJyZW50fX1cIiwgYCR7YSArIDF9YCkucmVwbGFjZShcInt7dG90YWx9fVwiLCBgJHtwLmxlbmd0aH1gKSwgUCA9ICgoViA9IGMucG9wb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IFYuc2hvd0J1dHRvbnMpIHx8IHMoXCJzaG93QnV0dG9uc1wiKSwgRSA9IFtcbiAgICAgIFwibmV4dFwiLFxuICAgICAgXCJwcmV2aW91c1wiLFxuICAgICAgLi4ueCA/IFtcImNsb3NlXCJdIDogW11cbiAgICBdLmZpbHRlcigoY2UpID0+ICEoUCAhPSBudWxsICYmIFAubGVuZ3RoKSB8fCBQLmluY2x1ZGVzKGNlKSksIFQgPSAoKHEgPSBjLnBvcG92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBxLm9uTmV4dENsaWNrKSB8fCBzKFwib25OZXh0Q2xpY2tcIiksIEEgPSAoKEsgPSBjLnBvcG92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBLLm9uUHJldkNsaWNrKSB8fCBzKFwib25QcmV2Q2xpY2tcIiksIEggPSAoKFkgPSBjLnBvcG92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBZLm9uQ2xvc2VDbGljaykgfHwgcyhcIm9uQ2xvc2VDbGlja1wiKTtcbiAgICBqKHtcbiAgICAgIC4uLmMsXG4gICAgICBwb3BvdmVyOiB7XG4gICAgICAgIHNob3dCdXR0b25zOiBFLFxuICAgICAgICBuZXh0QnRuVGV4dDogdSA/IHZvaWQgMCA6IG0sXG4gICAgICAgIGRpc2FibGVCdXR0b25zOiBbLi4uaCA/IFtdIDogW1wicHJldmlvdXNcIl1dLFxuICAgICAgICBzaG93UHJvZ3Jlc3M6IEMsXG4gICAgICAgIHByb2dyZXNzVGV4dDogYixcbiAgICAgICAgb25OZXh0Q2xpY2s6IFQgfHwgKCgpID0+IHtcbiAgICAgICAgICB1ID8gdihhICsgMSkgOiBnKCk7XG4gICAgICAgIH0pLFxuICAgICAgICBvblByZXZDbGljazogQSB8fCAoKCkgPT4ge1xuICAgICAgICAgIHYoYSAtIDEpO1xuICAgICAgICB9KSxcbiAgICAgICAgb25DbG9zZUNsaWNrOiBIIHx8ICgoKSA9PiB7XG4gICAgICAgICAgZygpO1xuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGMgPT0gbnVsbCA/IHZvaWQgMCA6IGMucG9wb3ZlcikgfHwge31cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBnKGEgPSAhMCkge1xuICAgIGNvbnN0IHAgPSBsKFwiX19hY3RpdmVFbGVtZW50XCIpLCBjID0gbChcIl9fYWN0aXZlU3RlcFwiKSwgdSA9IGwoXCJfX2FjdGl2ZU9uRGVzdHJveWVkXCIpLCBoID0gcyhcIm9uRGVzdHJveVN0YXJ0ZWRcIik7XG4gICAgaWYgKGEgJiYgaCkge1xuICAgICAgY29uc3QgQyA9ICFwIHx8IChwID09IG51bGwgPyB2b2lkIDAgOiBwLmlkKSA9PT0gXCJkcml2ZXItZHVtbXktZWxlbWVudFwiO1xuICAgICAgaChDID8gdm9pZCAwIDogcCwgYywge1xuICAgICAgICBjb25maWc6IHMoKSxcbiAgICAgICAgc3RhdGU6IGwoKSxcbiAgICAgICAgZHJpdmVyOiBfKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtID0gKGMgPT0gbnVsbCA/IHZvaWQgMCA6IGMub25EZXNlbGVjdGVkKSB8fCBzKFwib25EZXNlbGVjdGVkXCIpLCB4ID0gcyhcIm9uRGVzdHJveWVkXCIpO1xuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkcml2ZXItYWN0aXZlXCIsIFwiZHJpdmVyLWZhZGVcIiwgXCJkcml2ZXItc2ltcGxlXCIpLCBfZSgpLCBUZSgpLCBDZSgpLCBtZSgpLCBkZSgpLCBYKCksIHAgJiYgYykge1xuICAgICAgY29uc3QgQyA9IHAuaWQgPT09IFwiZHJpdmVyLWR1bW15LWVsZW1lbnRcIjtcbiAgICAgIG0gJiYgbShDID8gdm9pZCAwIDogcCwgYywge1xuICAgICAgICBjb25maWc6IHMoKSxcbiAgICAgICAgc3RhdGU6IGwoKSxcbiAgICAgICAgZHJpdmVyOiBfKClcbiAgICAgIH0pLCB4ICYmIHgoQyA/IHZvaWQgMCA6IHAsIGMsIHtcbiAgICAgICAgY29uZmlnOiBzKCksXG4gICAgICAgIHN0YXRlOiBsKCksXG4gICAgICAgIGRyaXZlcjogXygpXG4gICAgICB9KTtcbiAgICB9XG4gICAgdSAmJiB1LmZvY3VzKCk7XG4gIH1cbiAgY29uc3QgeSA9IHtcbiAgICBpc0FjdGl2ZTogKCkgPT4gbChcImlzSW5pdGlhbGl6ZWRcIikgfHwgITEsXG4gICAgcmVmcmVzaDogTSxcbiAgICBkcml2ZTogKGEgPSAwKSA9PiB7XG4gICAgICByKCksIHYoYSk7XG4gICAgfSxcbiAgICBzZXRDb25maWc6IEYsXG4gICAgc2V0U3RlcHM6IChhKSA9PiB7XG4gICAgICBYKCksIEYoe1xuICAgICAgICAuLi5zKCksXG4gICAgICAgIHN0ZXBzOiBhXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldENvbmZpZzogcyxcbiAgICBnZXRTdGF0ZTogbCxcbiAgICBnZXRBY3RpdmVJbmRleDogKCkgPT4gbChcImFjdGl2ZUluZGV4XCIpLFxuICAgIGlzRmlyc3RTdGVwOiAoKSA9PiBsKFwiYWN0aXZlSW5kZXhcIikgPT09IDAsXG4gICAgaXNMYXN0U3RlcDogKCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHMoXCJzdGVwc1wiKSB8fCBbXSwgcCA9IGwoXCJhY3RpdmVJbmRleFwiKTtcbiAgICAgIHJldHVybiBwICE9PSB2b2lkIDAgJiYgcCA9PT0gYS5sZW5ndGggLSAxO1xuICAgIH0sXG4gICAgZ2V0QWN0aXZlU3RlcDogKCkgPT4gbChcImFjdGl2ZVN0ZXBcIiksXG4gICAgZ2V0QWN0aXZlRWxlbWVudDogKCkgPT4gbChcImFjdGl2ZUVsZW1lbnRcIiksXG4gICAgZ2V0UHJldmlvdXNFbGVtZW50OiAoKSA9PiBsKFwicHJldmlvdXNFbGVtZW50XCIpLFxuICAgIGdldFByZXZpb3VzU3RlcDogKCkgPT4gbChcInByZXZpb3VzU3RlcFwiKSxcbiAgICBtb3ZlTmV4dDogaSxcbiAgICBtb3ZlUHJldmlvdXM6IGQsXG4gICAgbW92ZVRvOiBuLFxuICAgIGhhc05leHRTdGVwOiAoKSA9PiB7XG4gICAgICBjb25zdCBhID0gcyhcInN0ZXBzXCIpIHx8IFtdLCBwID0gbChcImFjdGl2ZUluZGV4XCIpO1xuICAgICAgcmV0dXJuIHAgIT09IHZvaWQgMCAmJiAhIWFbcCArIDFdO1xuICAgIH0sXG4gICAgaGFzUHJldmlvdXNTdGVwOiAoKSA9PiB7XG4gICAgICBjb25zdCBhID0gcyhcInN0ZXBzXCIpIHx8IFtdLCBwID0gbChcImFjdGl2ZUluZGV4XCIpO1xuICAgICAgcmV0dXJuIHAgIT09IHZvaWQgMCAmJiAhIWFbcCAtIDFdO1xuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiAoYSkgPT4ge1xuICAgICAgcigpLCBqKHtcbiAgICAgICAgLi4uYSxcbiAgICAgICAgcG9wb3ZlcjogYS5wb3BvdmVyID8ge1xuICAgICAgICAgIHNob3dCdXR0b25zOiBbXSxcbiAgICAgICAgICBzaG93UHJvZ3Jlc3M6ICExLFxuICAgICAgICAgIHByb2dyZXNzVGV4dDogXCJcIixcbiAgICAgICAgICAuLi5hLnBvcG92ZXJcbiAgICAgICAgfSA6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICBnKCExKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsZSh5KSwgeTtcbn1cbmV4cG9ydCB7XG4gIEFlIGFzIGRyaXZlclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/driver.js/dist/driver.js.mjs\n");

/***/ })

};
;